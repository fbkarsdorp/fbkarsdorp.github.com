<!DOCTYPE html>
<html lang="en-us">
<head>
  
  
  
  
  <script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>
  <link rel="stylesheet" href="https://latest.cactus.chat/style.css" type="text/css">
  
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> My Literate Emacs Configuration | Folgert Karsdorp</title>
  <link rel = 'canonical' href = 'https://www.karsdorp.io/posts/dotemacs/'>
  <meta name="description" content="I&#39;m a researcher working on Computational Humanities and Cultural
  Evolution at the [Meertens Institute](https://www.meertens.knaw.nl) of the Royal
  Netherlands Academy of Arts and Sciences (Amsterdam, the Netherlands).

  My research focuses on cultural change, measuring cultural diversity and
  compositional complexity, and how we can account for biases in our estimations
  of diversity and complexity. To do that, I use computational models from
  Machine Learning, Cultural Evolution, and Ecology.

  Besides cultural change and diversity, I&#39;m also interested in teaching about computer
  programming in the context of the Humanities. I published a text book with [Princeton
  University
  Press](https://press.princeton.edu/books/hardcover/9780691172361/humanities-data-analysis)
  about using Python for Humanities data analysis. Check out the open access edition
  [here](https://www.humanitiesdataanalysis.org)!">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="My Literate Emacs Configuration" />
<meta property="og:description" content="What&rsquo;s this? This document is a literate version of my GNU Emacs configuration written in Org mode. Org mode is a kind of markdown with super powers, which allows you to write code side by side with the corresponding documentation. My Emacs configuration is the result of certainly years and years of tinkering and refinement, and there is always something that could be just a little bit better or different so that it fits my workflow better." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.karsdorp.io/posts/dotemacs/" /><meta property="article:section" content="posts" />

<meta property="article:modified_time" content="2022-12-24T17:08:32+01:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="My Literate Emacs Configuration"/>
<meta name="twitter:description" content="What&rsquo;s this? This document is a literate version of my GNU Emacs configuration written in Org mode. Org mode is a kind of markdown with super powers, which allows you to write code side by side with the corresponding documentation. My Emacs configuration is the result of certainly years and years of tinkering and refinement, and there is always something that could be just a little bit better or different so that it fits my workflow better."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://www.karsdorp.io/css/styles.50cc9e352fbdba2d38136c853dcabec397f3b0a91b03f412fd1008a66462d865a86f48e7b581b638856c6425c2eb91b4b20e7ccb10f7118c88af0713cd0075b0.css" integrity="sha512-UMyeNS&#43;9ui04E2yFPcq&#43;w5fzsKkbA/QS/RAIpmRi2GWob0jntYG2OIVsZCXC65G0sg58yxD3EYyIrwcTzQB1sA=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://www.karsdorp.io/images/favicon.ico" />

  
  
  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Notebooks</a></li>
         
        <li><a href="/references">Publications</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://www.karsdorp.io/posts/20221215175357-what_shall_we_do_with_the_unseen_sailor/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://www.karsdorp.io/posts/20230425123401-unseen_crime_simulation/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f&text=My%20Literate%20Emacs%20Configuration" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f&title=My%20Literate%20Emacs%20Configuration" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f&is_video=false&description=My%20Literate%20Emacs%20Configuration" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=My%20Literate%20Emacs%20Configuration&body=Check out this article: https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f&title=My%20Literate%20Emacs%20Configuration" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f&title=My%20Literate%20Emacs%20Configuration" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f&name=My%20Literate%20Emacs%20Configuration&description=What%26rsquo%3bs%20this%3f%20This%20document%20is%20a%20literate%20version%20of%20my%20GNU%20Emacs%20configuration%20written%20in%20Org%20mode.%20Org%20mode%20is%20a%20kind%20of%20markdown%20with%20super%20powers%2c%20which%20allows%20you%20to%20write%20code%20side%20by%20side%20with%20the%20corresponding%20documentation.%20My%20Emacs%20configuration%20is%20the%20result%20of%20certainly%20years%20and%20years%20of%20tinkering%20and%20refinement%2c%20and%20there%20is%20always%20something%20that%20could%20be%20just%20a%20little%20bit%20better%20or%20different%20so%20that%20it%20fits%20my%20workflow%20better." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f&t=My%20Literate%20Emacs%20Configuration" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#what-s-this">What&rsquo;s this?</a></li>
    <li><a href="#startup">Startup</a>
      <ul>
        <li><a href="#encoding">Encoding</a></li>
        <li><a href="#path">Path</a></li>
      </ul>
    </li>
    <li><a href="#package-management">Package management</a></li>
    <li><a href="#aesthetics">Aesthetics</a>
      <ul>
        <li><a href="#interface-components">Interface components</a></li>
        <li><a href="#theming">Theming</a></li>
        <li><a href="#typography">Typography</a></li>
      </ul>
    </li>
    <li><a href="#completion">Completion</a></li>
    <li><a href="#editing">Editing</a></li>
    <li><a href="#system-management">System management</a>
      <ul>
        <li><a href="#dired">Dired</a></li>
        <li><a href="#backups-recovery-recent-files">Backups / Recovery / Recent files</a></li>
        <li><a href="#tramp">Tramp</a></li>
      </ul>
    </li>
    <li><a href="#project-management">Project Management</a></li>
    <li><a href="#git">Git</a></li>
    <li><a href="#writing">Writing</a>
      <ul>
        <li><a href="#org-mode">Org mode</a>
          <ul>
            <li><a href="#agenda">Agenda</a></li>
            <li><a href="#org-roam">Org Roam</a></li>
            <li><a href="#uncategorized-settings">Uncategorized settings</a></li>
          </ul>
        </li>
        <li><a href="#blogging">Blogging</a></li>
        <li><a href="#latex">LaTeX</a></li>
        <li><a href="#bibliography-management">Bibliography management</a></li>
        <li><a href="#markdown">Markdown</a></li>
      </ul>
    </li>
    <li><a href="#programming">Programming</a>
      <ul>
        <li><a href="#general">General</a></li>
        <li><a href="#python">Python</a></li>
        <li><a href="#r">R</a></li>
        <li><a href="#stan">Stan</a></li>
      </ul>
    </li>
    <li><a href="#searching">Searching</a></li>
    <li><a href="#utility-functions">Utility functions</a></li>
    <li><a href="#global-key-bindings">Global key bindings</a></li>
    <li><a href="#server">Server</a></li>
    <li><a href="#custom-file">Custom file</a></li>
  </ul>
</nav>
    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        My Literate Emacs Configuration
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2022-12-24 17:08:32 &#43;0100 CET" itemprop="datePublished">2022-12-24</time>
          
        </div>
        
        
        <div class="article-read-time">
          <i class="far fa-clock"></i>
          
          28 minute read
        </div>
        
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/emacs" rel="tag">emacs</a>
            
             ,  
            <a class="tag-link" href="/tags/org-mode" rel="tag">org-mode</a>
            
             ,  
            <a class="tag-link" href="/tags/python" rel="tag">python</a>
            
             ,  
            <a class="tag-link" href="/tags/jupyter" rel="tag">jupyter</a>
            
             ,  
            <a class="tag-link" href="/tags/gtd" rel="tag">gtd</a>
            
        </div>
        
      </div>
    </header>

  
    
    <div class="content" itemprop="articleBody">
      <h2 id="what-s-this">What&rsquo;s this?</h2>
<p>This document is a literate version of my GNU Emacs configuration written in Org mode. Org
mode is a kind of markdown with super powers, which allows you to write code side by side
with the corresponding documentation. My Emacs configuration is the result of certainly
years and years of tinkering and refinement, and there is always something that could be
just a little bit better or different so that it fits my workflow better. Here&rsquo;s a
screenshot of my current setup:</p>
<figure><img src="/ox-hugo/2022-12-21_16-30-53_Screenshot%202022-12-21%20at%2016.30.30.png"/>
</figure>

<p>This document is also on GitHub. See <a href="https://github.com/fbkarsdorp/.emacs.d">https://github.com/fbkarsdorp/.emacs.d</a></p>
<h2 id="startup">Startup</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span><span style="color:#60a0b0;font-style:italic">;;; -*- lexical-binding: t -*-</span>
</span></span><span style="display:flex;"><span><span style="color:#60a0b0;font-style:italic">;;; init.el --- This is where all emacs start.</span>
</span></span></code></pre></div><p>Set garbage collection memory threshold to some large number to improve the speed of
loading the configuration. Not sure it really makes that much of a difference, but most
people seem to do this.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">gc-cons-threshold</span> <span style="color:#40a070">100000000</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">add-hook</span> <span style="color:#517918">&#39;after-init-hook</span> (<span style="color:#007020">lambda</span> () (<span style="color:#007020">setq</span> <span style="color:#bb60d5">gc-cons-threshold</span> (<span style="color:#06287e">*</span> <span style="color:#40a070">10</span> <span style="color:#40a070">1024</span> <span style="color:#40a070">1024</span>))))
</span></span></code></pre></div><p>Don&rsquo;t show the startup message</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">inhibit-startup-message</span> <span style="color:#60add5">t</span>)
</span></span></code></pre></div><h3 id="encoding">Encoding</h3>
<p>Set the encoding to UTF8:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#bb60d5">prefer-coding-system</span> <span style="color:#517918">&#39;utf-8</span>)
</span></span></code></pre></div><h3 id="path">Path</h3>
<p>Ensure defined paths in the terminal are also visible to Emacs. Aparently, this is a macOS
thing:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">when</span> (<span style="color:#06287e">memq</span> <span style="color:#06287e">window-system</span> <span style="color:#666">&#39;</span>(<span style="color:#bb60d5">mac</span> <span style="color:#bb60d5">ns</span> <span style="color:#bb60d5">x</span>))
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">exec-path-from-shell-arguments</span> <span style="color:#60add5">nil</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">exec-path-from-shell-initialize</span>))
</span></span></code></pre></div><h2 id="package-management">Package management</h2>
<p>For installing Emacs packages, I use MELPA, the Milkypostmanâ€™s Emacs Lisp Package Archive.
In the future, I might switch over to straight, which clones packages directly from git,
for for the moment (and the past 15 years or so), MELPA has been working just fine.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">load-prefer-newer</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">package-initialize</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">package-archives</span> (<span style="color:#06287e">append</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#bb60d5">package-archives</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#666">&#39;</span>((<span style="color:#4070a0">&#34;melpa&#34;</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;https://melpa.org/packages/&#34;</span>)
</span></span><span style="display:flex;"><span>                          (<span style="color:#4070a0">&#34;elpa&#34;</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;https://elpa.nongnu.org/nongnu/&#34;</span>))))
</span></span></code></pre></div><p>The <code>use-package</code> macro by John Wiegley greatly improves the readability, configurability,
uniformity, and maintainability of third-party packages. Additionaly, I use
<code>quelpa-use-package</code>, which allows you to install packages from some git host using
use-package.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">eval-when-compile</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">require</span> <span style="color:#517918">&#39;use-package</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">require</span> <span style="color:#517918">&#39;quelpa-use-package</span>))
</span></span><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">use-package-always-ensure</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#007020">require</span> <span style="color:#517918">&#39;bind-key</span>)
</span></span></code></pre></div><p>The <code>async</code> package lets you install packages asynchronously. Quite useful to speed up
installation of packages.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">async</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span> (<span style="color:#007020">setq</span> <span style="color:#bb60d5">async-bytecomp-package-mode</span> <span style="color:#40a070">1</span>))
</span></span></code></pre></div><h2 id="aesthetics">Aesthetics</h2>
<h3 id="interface-components">Interface components</h3>
<p>Frames should have transparent title bars and must have dimensions 58x291.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">default-frame-alist</span> <span style="color:#666">&#39;</span>((<span style="color:#bb60d5">ns-transparent-titlebar</span> <span style="color:#666">.</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>                            (<span style="color:#bb60d5">height</span> <span style="color:#666">.</span> <span style="color:#40a070">48</span>) (<span style="color:#bb60d5">width</span> <span style="color:#666">.</span> <span style="color:#40a070">159</span>)))
</span></span></code></pre></div><p>Emacs&rsquo; GUI has a number of modes enabled, such as toolbar mode, which I never use. Like
most Emacs users, I always turn it off:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#bb60d5">tool-bar-mode</span> <span style="color:#40a070">-1</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">scroll-bar-mode</span> <span style="color:#40a070">-1</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">tooltip-mode</span> <span style="color:#40a070">-1</span>)
</span></span></code></pre></div><p>I also set the fringe a little wider to ensure the text isn&rsquo;t too close to the window
border:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#bb60d5">fringe-mode</span> <span style="color:#40a070">16</span>)
</span></span></code></pre></div><p>Use a non-blinking horizontal line as cursor. I like the minimal look:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#bb60d5">blink-cursor-mode</span> <span style="color:#60add5">nil</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#007020">setq-default</span> <span style="color:#bb60d5">cursor-type</span> <span style="color:#517918">&#39;hbar</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#06287e">fset</span> <span style="color:#517918">&#39;yes-or-no-p</span> <span style="color:#517918">&#39;y-or-n-p</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">ring-bell-function</span> <span style="color:#517918">&#39;ignore</span>)
</span></span></code></pre></div><p>The modeline in Emacs displays all information about your files, buffers, and active
modes. The <code>moody</code> and <code>minions</code> packages simplify the modeline a bit.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">moody</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">x-underline-at-descent-line</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">moody-replace-mode-line-buffer-identification</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">moody-replace-vc-mode</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">minions</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span> (<span style="color:#bb60d5">minions-mode</span> <span style="color:#40a070">1</span>))
</span></span></code></pre></div><p>The package diminish helps to de-clutter the modeline.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">diminish</span>)
</span></span></code></pre></div><p>Emacs&rsquo;s tab-bar-mode is great to keep you buffers organized. It&rsquo;s a bit different from
tabs in Firefox or other popular text editors, as it provides tabs for collections
windows, rather than a single window.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">tab-bar-mode</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">tab-bar-show</span> <span style="color:#60add5">nil</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">frame-title-format</span> <span style="color:#666">&#39;</span>((<span style="color:#007020">:eval</span> (<span style="color:#06287e">format</span> <span style="color:#4070a0">&#34;%s&#34;</span> (<span style="color:#06287e">cdr</span> (<span style="color:#06287e">assoc</span> <span style="color:#517918">&#39;name</span> (<span style="color:#bb60d5">tab-bar--current-tab</span>)))))))
</span></span></code></pre></div><h3 id="theming">Theming</h3>
<p>Endless fiddling with different themes is not the most productive activity. And yet, the
visual appeal of your working environment should not be underestimated either. I find that
it helps to maintain my appreciation for Emacs if I occasionally give the editor a visual
update. Emacs comes with many built-in color themes. Whenever switching between them, it&rsquo;s
important to make sure all settings are cleared instead of layering them. The following
advice function takes care of that automatically when loading another theme:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">defadvice</span> <span style="color:#bb60d5">load-theme</span> (<span style="color:#bb60d5">before</span> <span style="color:#bb60d5">clear-previous-themes</span> <span style="color:#bb60d5">activate</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#4070a0">&#34;Clear existing theme settings instead of layering them&#34;</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#06287e">mapc</span> <span style="color:#06287e">#&#39;</span><span style="color:#bb60d5">disable-theme</span> <span style="color:#bb60d5">custom-enabled-themes</span>))
</span></span></code></pre></div><p>The color themes of Protesilaos Stavrou are unmatched. I usually use his
modus-themes (prefering modus operandi during the day) but have recently become a fan of
the ef-themes as well. Modus-themes let you customize almost every aspect of the theme, so
please check out the documentation. Here&rsquo;s my config:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">modus-themes</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:init</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">modus-themes-bold-constructs</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">modus-themes-completions</span> <span style="color:#666">&#39;</span>((<span style="color:#bb60d5">matches</span> <span style="color:#666">.</span> (<span style="color:#bb60d5">extrabold</span> <span style="color:#bb60d5">intense</span> <span style="color:#bb60d5">background</span>))
</span></span><span style="display:flex;"><span>                                   (<span style="color:#bb60d5">selection</span> <span style="color:#666">.</span> (<span style="color:#bb60d5">semibold</span> <span style="color:#bb60d5">accented</span> <span style="color:#bb60d5">intense</span>))
</span></span><span style="display:flex;"><span>                                   (<span style="color:#bb60d5">popup</span> <span style="color:#666">.</span> (<span style="color:#bb60d5">accented</span>)))
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">modus-themes-diffs</span> <span style="color:#517918">&#39;desaturated</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">modus-themes-headings</span> <span style="color:#666">&#39;</span>((<span style="color:#40a070">1</span> <span style="color:#666">.</span> (<span style="color:#40a070">1.2</span>))
</span></span><span style="display:flex;"><span>                                (<span style="color:#40a070">2</span> <span style="color:#666">.</span> (<span style="color:#bb60d5">rainbow</span> <span style="color:#40a070">1.1</span>))
</span></span><span style="display:flex;"><span>                                (<span style="color:#40a070">3</span> <span style="color:#666">.</span> (<span style="color:#40a070">1</span>))
</span></span><span style="display:flex;"><span>                                (<span style="color:#60add5">t</span> <span style="color:#666">.</span> (<span style="color:#bb60d5">monochrome</span>)))
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">modus-themes-hl-line</span> <span style="color:#666">&#39;</span>(<span style="color:#60add5">nil</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">modus-themes-links</span> <span style="color:#666">&#39;</span>(<span style="color:#60add5">nil</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">modus-themes-mixed-fonts</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">modus-themes-mode-line</span> <span style="color:#666">&#39;</span>(<span style="color:#bb60d5">moody</span> <span style="color:#bb60d5">borderless</span> <span style="color:#bb60d5">accented</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">modus-themes-tabs-accented</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">modus-themes-prompts</span> <span style="color:#666">&#39;</span>(<span style="color:#bb60d5">background</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">modus-themes-region</span> <span style="color:#666">&#39;</span>(<span style="color:#bb60d5">accented</span> <span style="color:#bb60d5">bg-only</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">modus-themes-syntax</span> <span style="color:#666">&#39;</span>(<span style="color:#bb60d5">faint</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">modus-themes-tabs-accented</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">modus-themes-org-agenda</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">&#39;</span>((<span style="color:#bb60d5">header-date</span> <span style="color:#666">.</span> (<span style="color:#bb60d5">grayscale</span> <span style="color:#bb60d5">workaholic</span> <span style="color:#bb60d5">bold-today</span>))
</span></span><span style="display:flex;"><span>          (<span style="color:#bb60d5">header-block</span> <span style="color:#666">.</span> (<span style="color:#40a070">1.5</span> <span style="color:#bb60d5">semibold</span>))
</span></span><span style="display:flex;"><span>          (<span style="color:#bb60d5">scheduled</span> <span style="color:#666">.</span> <span style="color:#bb60d5">uniform</span>)
</span></span><span style="display:flex;"><span>          (<span style="color:#bb60d5">event</span> <span style="color:#666">.</span> (<span style="color:#bb60d5">italic</span>))
</span></span><span style="display:flex;"><span>          (<span style="color:#bb60d5">habit</span> <span style="color:#666">.</span> <span style="color:#bb60d5">traffic-light</span>)))
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">modus-themes-load-themes</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">modus-themes-load-operandi</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:bind</span> (<span style="color:#4070a0">&#34;&lt;f5&gt;&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">modus-themes-toggle</span>))
</span></span></code></pre></div><h3 id="typography">Typography</h3>
<p>We first set the default font.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#bb60d5">set-face-attribute</span> <span style="color:#517918">&#39;default</span> <span style="color:#60add5">nil</span> <span style="color:#007020">:family</span> <span style="color:#4070a0">&#34;Input Mono Compressed&#34;</span> <span style="color:#007020">:height</span> <span style="color:#40a070">120</span>)
</span></span></code></pre></div><p>Then, set the fill column to a maximum of 90 characters (10 more than the default).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq-default</span> <span style="color:#bb60d5">fill-column</span> <span style="color:#40a070">90</span>)
</span></span></code></pre></div><p>A number of packages rely on icons for presentation purposes. We load the <code>fontawesome</code>
and <code>all-the-icons</code> packages, which provide a large number of icons.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">fontawesome</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">all-the-icons</span>)
</span></span></code></pre></div><h2 id="completion">Completion</h2>
<p>Emacs has endless functions. To quickly and efficiently find the functionality you&rsquo;re
looking for, several completion frameworks have been developed. I have long been using
<a href="https://github.com/abo-abo/swiper">Ivy</a>, a generic completion system for Emacs. Together with its companion Counsel (&ldquo;a
collection of Ivy-enhanced versions of common Emacs commands&rdquo;) and Swiper (&ldquo;an
Ivy-enhanced alternative to Isearch.&rdquo;), Ivy provides an environment with which you can
quickly navigate, select and filter commands. The configuration of Ivy is nothing special.
I bind search to <code>C-s</code> and adjust the regex building function for ivy-bibtex.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">ivy</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:init</span> (<span style="color:#bb60d5">ivy-mode</span> <span style="color:#40a070">1</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">ivy-use-virtual-buffers</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">enable-recursive-minibuffers</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">ivy-display-style</span> <span style="color:#517918">&#39;fancy</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">ivy-re-builders-alist</span> <span style="color:#666">&#39;</span>((<span style="color:#bb60d5">ivy-bibtex</span> <span style="color:#666">.</span> <span style="color:#bb60d5">ivy--regex-ignore-order</span>)
</span></span><span style="display:flex;"><span>                                (<span style="color:#60add5">t</span> <span style="color:#666">.</span> <span style="color:#bb60d5">ivy--regex-plus</span>)))
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:bind</span> ((<span style="color:#4070a0">&#34;C-s&#34;</span> <span style="color:#666">.</span> <span style="color:#517918">&#39;swiper-isearch</span>)
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;C-r&#34;</span> <span style="color:#666">.</span> <span style="color:#517918">&#39;swiper-backward</span>)))
</span></span></code></pre></div><p>Ivy ensures that all commands that use the completion-read function go past Ivy. Counsel
goes a step further and modifies several well-known functions of Emacs, such as the
well-known <code>M-x</code> menu. I am far from using all the Counsel functions. The most important
ones for me are specified in the configuration below. Furthermore, I have changed the
ripgrep settings slightly to give a little more context in the results.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">counsel</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:init</span> (<span style="color:#bb60d5">counsel-mode</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:bind</span> ((<span style="color:#4070a0">&#34;C-x C-r&#34;</span> <span style="color:#666">.</span> <span style="color:#517918">&#39;counsel-recentf</span>)
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;C-c i&#34;</span> <span style="color:#666">.</span> <span style="color:#517918">&#39;counsel-imenu</span>)
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;C-c c&#34;</span> <span style="color:#666">.</span> <span style="color:#517918">&#39;counsel-org-capture</span>)
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;C-x b&#34;</span> <span style="color:#666">.</span> <span style="color:#517918">&#39;ivy-switch-buffer</span>))
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">counsel-grep-base-command</span> <span style="color:#4070a0">&#34;grep -niE %s %s&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">counsel-grep-base-command</span>
</span></span><span style="display:flex;"><span>        <span style="color:#60a0b0;font-style:italic">;; &#34;ag --nocolor --nogroup %s %s&#34;)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4070a0">&#34;rg -S -M 120 --no-heading --line-number --color never %s %s&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">counsel-find-file-occur-cmd</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4070a0">&#34;gls -a | grep -i -E &#39;%s&#39; | gxargs -d &#39;\\n&#39; gls -d --group-directories-first&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">counsel-locate-cmd</span> <span style="color:#517918">&#39;counsel-locate-cmd-mdfind</span>))
</span></span></code></pre></div><p>Ivy presents lists. The package <code>prescient</code> takes these lists, then sorts and filters
them. It works nicely with Counsel too.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">prescient</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">prescient-persist-mode</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">ivy-prescient</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span> (<span style="color:#bb60d5">ivy-prescient-mode</span>))
</span></span></code></pre></div><p>Hydra&rsquo;s are great to create key binding menu&rsquo;s that stick around. Before, I had more
defined. Now only a few.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">ivy-hydra</span>)
</span></span></code></pre></div><p>The <code>which-key</code> package is great for discoverability and memorability of functionalities.
The package gives completions for keybindings. For example, type <code>C-c</code> and which-key
returns all key bindings that follow that combination. Really useful, since there are just
too many key bindings&hellip;</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">which-key</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:diminish</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:init</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">progn</span>
</span></span><span style="display:flex;"><span>    (<span style="color:#007020">setq</span> <span style="color:#bb60d5">which-key-idle-delay</span> <span style="color:#40a070">1.0</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#bb60d5">which-key-mode</span>)))
</span></span></code></pre></div><h2 id="editing">Editing</h2>
<p>They call it a text editor for a reason. I first make some customizations to various
editing functions and settings, starting with tabs, which we all hate, so let&rsquo;s turn them
off:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq-default</span> <span style="color:#bb60d5">indent-tabs-mode</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>              <span style="color:#bb60d5">tab-always-indent</span> <span style="color:#517918">&#39;complete</span>
</span></span><span style="display:flex;"><span>              <span style="color:#bb60d5">tab-width</span> <span style="color:#40a070">4</span>)
</span></span></code></pre></div><p>The default mode in Emacs is Emacs lisp. For my work, it&rsquo;s better to set this to text:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq-default</span> <span style="color:#bb60d5">initial-major-mode</span> <span style="color:#517918">&#39;text-mode</span>
</span></span><span style="display:flex;"><span>              <span style="color:#bb60d5">default-major-mode</span> <span style="color:#517918">&#39;text-mode</span>)
</span></span></code></pre></div><p>The option to add a double space following a period is so old, it&rsquo;s hard to find exactly
when it was introduced. The documentation says &ldquo;at or before Emacs version 19.24&rdquo;. We&rsquo;re
now at emacs 29, and I&rsquo;m still turing it off:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">sentence-end-double-space</span> <span style="color:#60add5">nil</span>)
</span></span></code></pre></div><p>Highlighting matching parentheses helps catching syntax errors early on:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#bb60d5">show-paren-mode</span> <span style="color:#60add5">t</span>)
</span></span></code></pre></div><p>Emacs &gt;=29 has support for pixel scrolling. This greatly improves editing files with
images:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#bb60d5">pixel-scroll-precision-mode</span>)
</span></span></code></pre></div><p>When working on text, I prefer auto-filll which breaks lines after a set number of
characters. Hard breakes help with putting text files under git control. To auto-fill all
text related modes, we add the mode to the text mode hook:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#bb60d5">add-hook</span> <span style="color:#517918">&#39;text-mode-hook</span> <span style="color:#06287e">#&#39;</span><span style="color:#bb60d5">auto-fill-mode</span>)
</span></span></code></pre></div><p>When files change on disk, update the buffer automatically:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#bb60d5">global-auto-revert-mode</span> <span style="color:#60add5">t</span>)
</span></span></code></pre></div><p>Emacs is quick to warn about large files. With the new large file support this is
certainly no longer necessary. I raise the threshold a bit:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">large-file-warning-threshold</span> <span style="color:#40a070">100000000</span>)
</span></span></code></pre></div><p>Next are some packages to make editing even easier with Emacs. First two packages for
easier navigation. <code>avy</code> offers a great way to navigate your document without touching the
mouse. It allows you to jump to text in a decision tree like strategy. There are many
different search options, but I tend to use only two of them. The first,
<code>avy-goto-char-timer</code> allows you to type in part of a word within a certain time limit
before avy presents the selection keys. The second one shows selection keys for each line
in all visible buffers.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">avy</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:bind</span> ((<span style="color:#4070a0">&#34;M-j&#34;</span> <span style="color:#666">.</span> <span style="color:#517918">&#39;avy-goto-char-timer</span>)
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;M-\\&#34;</span> <span style="color:#666">.</span> <span style="color:#517918">&#39;avy-goto-line</span>)))
</span></span></code></pre></div><p>Ace-window is another package by the same author, Oleh Krehel, which allows you to quickly
switch and manipulate windows in Emacs. I bind it to <code>M-o</code>, as I use it quite often and
that&rsquo;s an easy binding.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">ace-window</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">set-face-attribute</span>
</span></span><span style="display:flex;"><span>   <span style="color:#517918">&#39;aw-leading-char-face</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>   <span style="color:#007020">:weight</span> <span style="color:#517918">&#39;bold</span>
</span></span><span style="display:flex;"><span>   <span style="color:#007020">:height</span> <span style="color:#40a070">2.0</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">aw-keys</span> <span style="color:#666">&#39;</span>(<span style="color:#4070a0">?a</span> <span style="color:#4070a0">?s</span> <span style="color:#4070a0">?d</span> <span style="color:#4070a0">?f</span> <span style="color:#4070a0">?g</span> <span style="color:#4070a0">?h</span> <span style="color:#4070a0">?j</span> <span style="color:#4070a0">?k</span> <span style="color:#4070a0">?l</span>))
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:bind</span> ((<span style="color:#4070a0">&#34;M-o&#34;</span> <span style="color:#666">.</span> <span style="color:#517918">&#39;ace-window</span>)))
</span></span></code></pre></div><p>I think Sublime text was the first text editor to offer simultaneous editing with multiple
cursors &ndash; a feature so powerful that nowadays practically all editors (even Jupyter
notebooks!) implement the feature. For Emacs we rely on the package <code>multiple-cursors</code>,
which is a stable package that offers a similar experience.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">multiple-cursors</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:bind</span> ((<span style="color:#4070a0">&#34;C-S-c C-S-c&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">mc/edit-lines</span>)
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;C-&gt;&#34;</span>         <span style="color:#666">.</span> <span style="color:#bb60d5">mc/mark-next-like-this</span>)
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;C-&lt;&#34;</span>         <span style="color:#666">.</span> <span style="color:#bb60d5">mc/mark-previous-like-this</span>)
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;C-c C-&lt;&#34;</span>     <span style="color:#666">.</span> <span style="color:#bb60d5">mc/mark-all-like-this</span>)
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;M-&lt;down-mouse-1&gt;&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">mc/add-cursor-on-click</span>)
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;C-c m&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">vr/mc-mark</span>)))
</span></span></code></pre></div><p>The package <code>expand-region</code> provides a nifty way to select parts of text of code. By
repeating the keybinding, the selected region will be expanded semantically. For example,
when inside a list comprehension that&rsquo;s part of a function in Python, expand region would
first select everything inside the list comprehension, and then its immediate semantic
parent, i.e. the function.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">expand-region</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:bind</span> (<span style="color:#4070a0">&#34;C-=&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">er/expand-region</span>))
</span></span></code></pre></div><p>The <code>electric</code> package, part of Emacs, enable automatic paren and quote pairing. It&rsquo;s
simple but effective.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">electric</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:ensure</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span> (<span style="color:#bb60d5">electric-pair-mode</span> <span style="color:#40a070">1</span>))
</span></span></code></pre></div><p>The package <code>move-text</code> provides a little utility function to easily move the current line
or region up and down. It&rsquo;s bound to Cmd+arrow up or arrow down.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">move-text</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span> (<span style="color:#bb60d5">move-text-default-bindings</span>))
</span></span></code></pre></div><p>Highlighting the current line gives some visual support when editing files. I turn it on
globally:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">hl-line</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:ensure</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:custom-face</span> (<span style="color:#bb60d5">hl-line</span> ((<span style="color:#60add5">t</span> (<span style="color:#007020">:extend</span> <span style="color:#60add5">t</span>))))
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:hook</span> (<span style="color:#bb60d5">after-init</span> <span style="color:#666">.</span> <span style="color:#bb60d5">global-hl-line-mode</span>))
</span></span></code></pre></div><p>Sometimes having too many buffers around is distracting. The Olivetti mode helps focussing
on writing by centering your document and increasing the margins. I set the style to
&ldquo;fancy&rdquo;, which sets both margins and fringe:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">olivetti</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span> (<span style="color:#007020">setq</span> <span style="color:#bb60d5">olivetti-style</span> <span style="color:#517918">&#39;fancy</span>))
</span></span></code></pre></div><p>For editing csv files, I rely on <code>csv-mode</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">csv-mode</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:defer</span> <span style="color:#60add5">t</span>)
</span></span></code></pre></div><p>Likewise, YAML files are edited with the <code>yaml-mode</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">yaml-mode</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:mode</span> ((<span style="color:#4070a0">&#34;\\.yml\\&#39;&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">yaml-mode</span>)))
</span></span></code></pre></div><h2 id="system-management">System management</h2>
<h3 id="dired">Dired</h3>
<p>Dired is the main mode for doing all kinds of file management. Below are some
customizations to let it play nicely with macOS. To use these, make sure gls is install
through brew.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">when</span> (<span style="color:#bb60d5">string=</span> <span style="color:#bb60d5">system-type</span> <span style="color:#4070a0">&#34;darwin&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">dired-use-ls-dired</span> <span style="color:#60add5">nil</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">insert-directory-program</span> <span style="color:#4070a0">&#34;gls&#34;</span> <span style="color:#bb60d5">dired-use-ls-dired</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">dired-recursive-deletes</span> <span style="color:#517918">&#39;always</span>)
</span></span></code></pre></div><p>While already really good, the package <code>dirvish</code> an improved version of dired. It offers a
much more appealing interface, which is easily customizable. Most importantly, dirvish
helps discovering all kinds of nifty tricks inside dired that I didn&rsquo;t know about.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">dirvish</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:init</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">dirvish-override-dired-mode</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:custom</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">dirvish-quick-access-entries</span>
</span></span><span style="display:flex;"><span>   <span style="color:#666">&#39;</span>((<span style="color:#4070a0">&#34;h&#34;</span> <span style="color:#4070a0">&#34;~/&#34;</span>                          <span style="color:#4070a0">&#34;Home&#34;</span>)
</span></span><span style="display:flex;"><span>     (<span style="color:#4070a0">&#34;d&#34;</span> <span style="color:#4070a0">&#34;~/.emacs.d/&#34;</span>                 <span style="color:#4070a0">&#34;Emacs&#34;</span>)
</span></span><span style="display:flex;"><span>     (<span style="color:#4070a0">&#34;p&#34;</span> <span style="color:#4070a0">&#34;~/projects&#34;</span>                  <span style="color:#4070a0">&#34;Projects&#34;</span>)
</span></span><span style="display:flex;"><span>     (<span style="color:#4070a0">&#34;t&#34;</span> <span style="color:#4070a0">&#34;~/.local/share/Trash/files/&#34;</span> <span style="color:#4070a0">&#34;TrashCan&#34;</span>)))
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">dirvish-mode-line-format</span>
</span></span><span style="display:flex;"><span>   <span style="color:#666">&#39;</span>(<span style="color:#007020">:left</span> (<span style="color:#06287e">sort</span> <span style="color:#bb60d5">file-time</span> <span style="color:#4070a0">&#34; &#34;</span> <span style="color:#bb60d5">file-size</span> <span style="color:#bb60d5">symlink</span>) <span style="color:#007020">:right</span> (<span style="color:#bb60d5">omit</span> <span style="color:#bb60d5">yank</span> <span style="color:#bb60d5">index</span>)))
</span></span><span style="display:flex;"><span>  <span style="color:#60a0b0;font-style:italic">;; Don&#39;t worry, Dirvish is still performant even you enable all these attributes</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">dirvish-attributes</span> <span style="color:#666">&#39;</span>(<span style="color:#bb60d5">all-the-icons</span> <span style="color:#bb60d5">collapse</span> <span style="color:#bb60d5">subtree-state</span> <span style="color:#bb60d5">vc-state</span> <span style="color:#bb60d5">git-msg</span>))
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">dired-dwim-target</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">delete-by-moving-to-trash</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#60a0b0;font-style:italic">;; Enable mouse drag-and-drop files to other applications</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">dired-mouse-drag-files</span> <span style="color:#60add5">t</span>)                   <span style="color:#60a0b0;font-style:italic">; added in Emacs 29</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">mouse-drag-and-drop-region-cross-program</span> <span style="color:#60add5">t</span>) <span style="color:#60a0b0;font-style:italic">; added in Emacs 29</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">dired-listing-switches</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4070a0">&#34;-l --almost-all --human-readable --time-style=long-iso --group-directories-first --no-group&#34;</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:bind</span>
</span></span><span style="display:flex;"><span>  <span style="color:#60a0b0;font-style:italic">;; Bind `dirvish|dirvish-side|dirvish-dwim&#39; as you see fit</span>
</span></span><span style="display:flex;"><span>  ((<span style="color:#4070a0">&#34;C-c f&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-fd</span>)
</span></span><span style="display:flex;"><span>   <span style="color:#60a0b0;font-style:italic">;; Dirvish has all the keybindings in `dired-mode-map&#39; already</span>
</span></span><span style="display:flex;"><span>   <span style="color:#007020">:map</span> <span style="color:#bb60d5">dirvish-mode-map</span>
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;a&#34;</span>   <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-quick-access</span>)
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;f&#34;</span>   <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-file-info-menu</span>)
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;y&#34;</span>   <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-yank-menu</span>)
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;N&#34;</span>   <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-narrow</span>)
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;^&#34;</span>   <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-history-last</span>)
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;h&#34;</span>   <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-history-jump</span>) <span style="color:#60a0b0;font-style:italic">; remapped `describe-mode&#39;</span>
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;s&#34;</span>   <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-quicksort</span>)    <span style="color:#60a0b0;font-style:italic">; remapped `dired-sort-toggle-or-edit&#39;</span>
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;v&#34;</span>   <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-vc-menu</span>)      <span style="color:#60a0b0;font-style:italic">; remapped `dired-view-file&#39;</span>
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;TAB&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-subtree-toggle</span>)
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;M-f&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-history-go-forward</span>)
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;M-b&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-history-go-backward</span>)
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;M-l&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-ls-switches-menu</span>)
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;M-m&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-mark-menu</span>)
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;M-t&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-layout-toggle</span>)
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;M-s&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-setup-menu</span>)
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;M-e&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-emerge-menu</span>)
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;M-j&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">dirvish-fd-jump</span>)))
</span></span></code></pre></div><h3 id="backups-recovery-recent-files">Backups / Recovery / Recent files</h3>
<p>Most of my projects are under git control, but still we need a way to ensure local backups
in case something goes wrong locally before pushing changes to the remote. By default,
Emacs makes backups in the working directory, but that creates some serious clutter. So, I
prefer to store then in one place.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">backup-by-copying</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">backup-directory-alist</span> <span style="color:#666">&#39;</span>((<span style="color:#4070a0">&#34;.&#34;</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;~/.emacs.d/backups&#34;</span>)))
</span></span><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">delete-old-versions</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">version-control</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">create-lockfiles</span> <span style="color:#60add5">nil</span>)
</span></span></code></pre></div><p><code>recentf</code> is a minor mode in Emacs that creates a list of recently visited files.
Completion frontend such as Ivy can then use this list to present to the user. I exclude
some files I certainly never want to revisit, and also set the maximum number of saved
items to 500.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">recentf</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">recentf-exclude</span> <span style="color:#666">&#39;</span>(<span style="color:#4070a0">&#34;COMMIT_MSG&#34;</span> <span style="color:#4070a0">&#34;COMMIT_EDITMSG&#34;</span> <span style="color:#4070a0">&#34;github.*txt$&#34;</span>
</span></span><span style="display:flex;"><span>                          <span style="color:#4070a0">&#34;[0-9a-f]\\{32\\}-[0-9a-f]\\{32\\}\\.org&#34;</span>
</span></span><span style="display:flex;"><span>                          <span style="color:#4070a0">&#34;.*png$&#34;</span> <span style="color:#4070a0">&#34;.*cache$&#34;</span>))
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">recentf-max-saved-items</span> <span style="color:#40a070">500</span>))
</span></span></code></pre></div><p>Finally, we use the minor save-place-mode to save place in each file, which is rather
handy upon revisiting files.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#bb60d5">save-place-mode</span> <span style="color:#40a070">1</span>)
</span></span></code></pre></div><h3 id="tramp">Tramp</h3>
<p>Tramp is great for working on remote files. The config is simple:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">tramp</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:ensure</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:defer</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">tramp-default-user</span> <span style="color:#4070a0">&#34;folgertk&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">tramp-default-method</span> <span style="color:#4070a0">&#34;ssh&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">use-package</span> <span style="color:#bb60d5">counsel-tramp</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020">:bind</span> (<span style="color:#4070a0">&#34;C-c t&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">counsel-tramp</span>))
</span></span><span style="display:flex;"><span>  (<span style="color:#06287e">put</span> <span style="color:#517918">&#39;temporary-file-directory</span> <span style="color:#517918">&#39;standard-value</span> <span style="color:#666">&#39;</span>(<span style="color:#4070a0">&#34;/tmp&#34;</span>)))
</span></span></code></pre></div><h2 id="project-management">Project Management</h2>
<p>For project management, I use Projectile. This project interaction library provides all
kinds of nice features that operate on the project level.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">projectile</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:diminish</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">projectile-completion-system</span> <span style="color:#517918">&#39;ivy</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">projectile-switch-project-action</span> <span style="color:#06287e">#&#39;</span><span style="color:#bb60d5">projectile-dired</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:bind</span> (<span style="color:#007020">:map</span> <span style="color:#bb60d5">projectile-mode-map</span>
</span></span><span style="display:flex;"><span>              (<span style="color:#4070a0">&#34;C-c p&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">projectile-command-map</span>))
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:init</span> (<span style="color:#bb60d5">projectile-mode</span> <span style="color:#40a070">+1</span>))
</span></span></code></pre></div><p>Projectile is integrated with counsel through <code>counsel-projectile</code>. All projects are
opened in dedicated tabs.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">defun</span> <span style="color:#bb60d5">projectile-name-tab-by-project-name-or-default</span> ()
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">let</span> ((<span style="color:#bb60d5">project-name</span> (<span style="color:#bb60d5">projectile-project-name</span>)))
</span></span><span style="display:flex;"><span>    (<span style="color:#007020">if</span> (<span style="color:#bb60d5">string=</span> <span style="color:#4070a0">&#34;-&#34;</span> <span style="color:#bb60d5">project-name</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">tab-bar-tab-name-current</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">project-name</span>)))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">tab-bar-tab-name-function</span> <span style="color:#06287e">#&#39;</span><span style="color:#bb60d5">projectile-name-tab-by-project-name-or-default</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">defun</span> <span style="color:#bb60d5">counsel-projectile-switch-project-action-dired-new-tab</span> (<span style="color:#bb60d5">project</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">let*</span> ((<span style="color:#bb60d5">project-name</span> (<span style="color:#06287e">file-name-nondirectory</span> (<span style="color:#06287e">directory-file-name</span> <span style="color:#bb60d5">project</span>)))
</span></span><span style="display:flex;"><span>         (<span style="color:#bb60d5">tab-bar-index</span> (<span style="color:#bb60d5">tab-bar--tab-index-by-name</span> <span style="color:#bb60d5">project-name</span>)))
</span></span><span style="display:flex;"><span>    (<span style="color:#007020">if</span> <span style="color:#bb60d5">tab-bar-index</span>
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">tab-bar-select-tab</span> (<span style="color:#06287e">+</span> <span style="color:#bb60d5">tab-bar-index</span> <span style="color:#40a070">1</span>))
</span></span><span style="display:flex;"><span>      (<span style="color:#007020">progn</span>
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">tab-bar-new-tab</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#007020">let</span> ((<span style="color:#bb60d5">projectile-switch-project-action</span> <span style="color:#517918">&#39;projectile-dired</span>))
</span></span><span style="display:flex;"><span>          (<span style="color:#bb60d5">counsel-projectile-switch-project-by-name</span> <span style="color:#bb60d5">project</span>))
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">dirvish-side</span>)))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">defun</span> <span style="color:#bb60d5">projectile-kill-buffers-and-enclosing-tab</span> ()
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">interactive</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">let*</span> ((<span style="color:#bb60d5">project-name</span> (<span style="color:#bb60d5">projectile-project-name</span>))
</span></span><span style="display:flex;"><span>         (<span style="color:#bb60d5">tab-bar-index</span> (<span style="color:#bb60d5">tab-bar--tab-index-by-name</span> <span style="color:#bb60d5">project-name</span>)))
</span></span><span style="display:flex;"><span>    (<span style="color:#007020">when</span> <span style="color:#bb60d5">tab-bar-index</span>
</span></span><span style="display:flex;"><span>      (<span style="color:#bb60d5">projectile-kill-buffers</span>)
</span></span><span style="display:flex;"><span>      (<span style="color:#bb60d5">tab-bar-switch-to-recent-tab</span>)
</span></span><span style="display:flex;"><span>      (<span style="color:#bb60d5">tab-bar-close-tab</span> (<span style="color:#06287e">+</span> <span style="color:#bb60d5">tab-bar-index</span> <span style="color:#40a070">1</span>)))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">counsel-projectile</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:after</span> <span style="color:#bb60d5">projectile</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:init</span> (<span style="color:#bb60d5">counsel-projectile-mode</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  <span style="color:#60a0b0;font-style:italic">;; I want projectile to open dired upon selecting a project.</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">counsel-projectile-modify-action</span>
</span></span><span style="display:flex;"><span>   <span style="color:#517918">&#39;counsel-projectile-switch-project-action</span>
</span></span><span style="display:flex;"><span>   <span style="color:#666">&#39;</span>((<span style="color:#bb60d5">add</span> (<span style="color:#4070a0">&#34;T&#34;</span> <span style="color:#bb60d5">counsel-projectile-switch-project-action-dired-new-tab</span> <span style="color:#4070a0">&#34;open in new tab&#34;</span>) <span style="color:#40a070">1</span>)))
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:bind</span> (<span style="color:#007020">:map</span> <span style="color:#bb60d5">projectile-mode-map</span>
</span></span><span style="display:flex;"><span>              (<span style="color:#4070a0">&#34;C-c p k&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">projectile-kill-buffers-and-enclosing-tab</span>)))
</span></span></code></pre></div><h2 id="git">Git</h2>
<p>Magit &ndash; A Git Porcelain inside Emacs is <em>the</em> git interface for Emacs. There&rsquo;s simply no
way to describe just how good this is. It&rsquo;s one of a kind and of those packages that makes
me want to stick with Emacs. Customization isn&rsquo;t really necessary, except perhaps for some
keybindings:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">magit</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">magit-git-executable</span> <span style="color:#4070a0">&#34;/usr/bin/git&#34;</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:bind</span> ((<span style="color:#4070a0">&#34;C-x g&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">magit-status</span>)
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;C-c M-g&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">magit-file-popup</span>)))
</span></span></code></pre></div><p>Keep you git repositories clean! The package <code>gitignore-templates</code> is a great help to do that.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">gitignore-templates</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:defer</span> <span style="color:#60add5">t</span>)
</span></span></code></pre></div><h2 id="writing">Writing</h2>
<h3 id="org-mode">Org mode</h3>
<p>Org mode is one of the main reasons I use Emacs. Org is a mode in which I take notes of
articles and meetings, write blogs, keep bookmarks, organize all my appointments in it,
develop a backlog and project schedule and all sorts of other things. For a scientific
researcher, org-mode is the best piece of software available because you can configure
everything, but really everything, to fit your workflow exactly. Some people think that is
also a risk of org-mode and Emacs in general. But I think adaptability and flexibility are
crucial since your workflow always changes a little bit. Emacs and Org-mode make it
possible to customize my academic toolbox exactly to my needs. My configuration for
Org-mode is quite extensive. I will first discuss a set of general settings. Then I&rsquo;ll
cover my calendar setup and my org-roam settings.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">org</span> <span style="color:#007020">:ensure</span> <span style="color:#bb60d5">org-contrib</span>)
</span></span></code></pre></div><h4 id="agenda">Agenda</h4>
<p>My org agenda consists of entries spread across five documents. In <code>inbox.org</code> I keep all
my unctegorized to-do&rsquo;s, notes and thoughts. By temporarily storing all new entries in an
inbox, I limit the time I&rsquo;m distracted. In <code>agenda.org</code> I keep all the appointments,
meetings, zoom-calls, lectures and so on. I usually do not put todo&rsquo;s here, just entries
that are scheduled for a particular day or time. In <code>projects.org</code> I keep a backlog of all
the projects I am working on. In <code>habits.org</code> I keep a number of habits, such as going to
exercise, watering the plants, and whether I need a haircut again ðŸ™ƒ. Finally, in
<code>readlist.org</code> I keep a list of links to articles in Zotero that I still want to read.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">defvar</span> <span style="color:#bb60d5">my-agenda-files</span> <span style="color:#666">&#39;</span>(<span style="color:#4070a0">&#34;inbox.org&#34;</span> <span style="color:#4070a0">&#34;projects.org&#34;</span> <span style="color:#4070a0">&#34;habits.org&#34;</span> <span style="color:#4070a0">&#34;agenda.org&#34;</span> <span style="color:#4070a0">&#34;leeslijst.org&#34;</span>))
</span></span><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-directory</span> <span style="color:#4070a0">&#34;~/org&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-agenda-files</span> (<span style="color:#06287e">mapcar</span>
</span></span><span style="display:flex;"><span>                        (<span style="color:#007020">lambda</span> (<span style="color:#bb60d5">f</span>) (<span style="color:#06287e">concat</span> (<span style="color:#06287e">file-name-as-directory</span> <span style="color:#bb60d5">org-directory</span>) <span style="color:#bb60d5">f</span>))
</span></span><span style="display:flex;"><span>                        <span style="color:#bb60d5">my-agenda-files</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-default-notes-file</span> (<span style="color:#06287e">concat</span> (<span style="color:#06287e">file-name-as-directory</span> <span style="color:#bb60d5">org-directory</span>) <span style="color:#4070a0">&#34;notes.org&#34;</span>))
</span></span></code></pre></div><p>Crucial to my workflow is org-mode&rsquo;s &ldquo;refiling&rdquo; functionality. Refiling means moving
entries or nodes to specific locations in other files. This is quite handy when moving all
entries collected in my inbox to the appropriate locations. I usually refile entries to
one of the projects in <code>projects.org</code>. Each project therein has two main sections, &ldquo;notes&rdquo;
and &ldquo;tasks.&rdquo; To quickly move entries to these two sections, I modify the variable
<code>org-refile-targets</code> below.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#06287e">mapc</span> (<span style="color:#007020">lambda</span> (<span style="color:#bb60d5">item</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#007020">setf</span> (<span style="color:#bb60d5">alist-get</span> <span style="color:#bb60d5">item</span> <span style="color:#bb60d5">ivy-initial-inputs-alist</span>) <span style="color:#4070a0">&#34;&#34;</span>))
</span></span><span style="display:flex;"><span>      <span style="color:#666">&#39;</span>(<span style="color:#bb60d5">org-refile</span> <span style="color:#bb60d5">org-agenda-refile</span> <span style="color:#bb60d5">org-capture-refile</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-refile-use-outline-path</span> <span style="color:#517918">&#39;file</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-outline-path-complete-in-steps</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-refile-allow-creating-parent-nodes</span> <span style="color:#517918">&#39;confirm</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-refile-targets</span> <span style="color:#666">&#39;</span>((<span style="color:#bb60d5">org-agenda-files</span> <span style="color:#007020">:maxlevel</span> <span style="color:#666">.</span> <span style="color:#40a070">2</span>))
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-refile-targets</span> <span style="color:#666">&#39;</span>((<span style="color:#4070a0">&#34;projects.org&#34;</span> <span style="color:#007020">:regexp</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;\\(?:\\(?:Note\\|Task\\)s\\)&#34;</span>)))
</span></span></code></pre></div><p>Todo&rsquo;s can be in two stages: done or not. When not, they are given the keyword &ldquo;TODO.&rdquo; If
I am waiting for input from someone else or for some other reason can&rsquo;t continue working
on a todo, then I set the entry to &ldquo;WAITING&rdquo;. When todo&rsquo;s are done I set them to &ldquo;DONE&rdquo;,
and if I don&rsquo;t continue working on them for some reason, I set the keyword to &ldquo;CANCELLED&rdquo;.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-todo-keywords</span> <span style="color:#666">&#39;</span>((<span style="color:#bb60d5">sequence</span> <span style="color:#4070a0">&#34;TODO&#34;</span> <span style="color:#4070a0">&#34;WAITING&#34;</span> <span style="color:#4070a0">&#34;|&#34;</span> <span style="color:#4070a0">&#34;DONE&#34;</span> <span style="color:#4070a0">&#34;CANCELLED&#34;</span>))
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-enforce-todo-dependencies</span> <span style="color:#60add5">t</span>)
</span></span></code></pre></div><p>For making reports, I like to log when I completed a todo. I store that information in
org-mode drawers.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-log-done</span> <span style="color:#517918">&#39;time</span>  <span style="color:#60a0b0;font-style:italic">; when marking a todo as done, at the time</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-log-into-drawer</span> <span style="color:#60add5">t</span>)  <span style="color:#60a0b0;font-style:italic">; log into drawers right underneath the heading</span>
</span></span></code></pre></div><p>Like &ldquo;refiling,&rdquo; Org-mode&rsquo;s &ldquo;capture&rdquo; functionality allows me to quickly save notes and
thoughts without being distracted for too long. Org capture works with templates that
allow different types of capture items to be quickly park. Below I define four of them.
The first is for new todo items, which automatically land in my inbox. The second is for
appointments. Captured appointments are automatically placed in the calendar under &ldquo;future
appointments.&rdquo; Then there is a template for adding items to my reading list, and finally a
template for notes that also end up in my inbox.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-capture-templates</span>
</span></span><span style="display:flex;"><span>      <span style="color:#666">&#39;</span>((<span style="color:#4070a0">&#34;t&#34;</span> <span style="color:#4070a0">&#34;Todo&#34;</span> <span style="color:#bb60d5">entry</span> (<span style="color:#bb60d5">file+headline</span> <span style="color:#4070a0">&#34;~/org/inbox.org&#34;</span> <span style="color:#4070a0">&#34;Tasks&#34;</span>)
</span></span><span style="display:flex;"><span>         <span style="color:#4070a0">&#34;* TODO %^{Todo} %^G \n:PROPERTIES:\n:CREATED: %U\n:END:\n\n%?&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#007020">:empty-lines</span> <span style="color:#40a070">1</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#4070a0">&#34;m&#34;</span> <span style="color:#4070a0">&#34;Meeting&#34;</span> <span style="color:#bb60d5">entry</span> (<span style="color:#bb60d5">file+headline</span> <span style="color:#4070a0">&#34;~/org/agenda.org&#34;</span> <span style="color:#4070a0">&#34;Toekomstig&#34;</span>)
</span></span><span style="display:flex;"><span>         <span style="color:#4070a0">&#34;* %^{Description} :meeting:\n%^t&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#007020">:empty-lines</span> <span style="color:#40a070">1</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#4070a0">&#34;r&#34;</span> <span style="color:#4070a0">&#34;Read&#34;</span> <span style="color:#bb60d5">entry</span> (<span style="color:#bb60d5">file+headline</span> <span style="color:#4070a0">&#34;~/org/leeslijst.org&#34;</span> <span style="color:#4070a0">&#34;Articles&#34;</span>)
</span></span><span style="display:flex;"><span>         <span style="color:#4070a0">&#34;* TODO %c \n:PROPERTIES:\n:CREATED: %U\n:END:\n\n%?&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#007020">:empty-lines</span> <span style="color:#40a070">1</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#4070a0">&#34;n&#34;</span> <span style="color:#4070a0">&#34;Note&#34;</span> <span style="color:#bb60d5">entry</span> (<span style="color:#bb60d5">file+headline</span> <span style="color:#4070a0">&#34;~/org/inbox.org&#34;</span> <span style="color:#4070a0">&#34;Notes&#34;</span>)
</span></span><span style="display:flex;"><span>         <span style="color:#4070a0">&#34;* %^{Title} %^G \n:PROPERTIES:\n:CREATED: %U\n:END:\n\n%?&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#007020">:empty-lines</span> <span style="color:#40a070">1</span>)))
</span></span></code></pre></div><p>For replying to email I also made a template. For this but I use the package
<code>org-mac-link</code>, which provides functionality to link to text in applications outside of
Emacs, such as the Address Book, Firefox, Safari, Finder, and to Mail. The ability to link
to Mail is particularly useful. It works as follows. All mails in Mail have a unique
message ID. That ID remains the same when the mail is moved to another folder. By linking
to a mail&rsquo;s ID, I can easily record notes or todo&rsquo;s for emails.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#bb60d5">add-to-list</span> <span style="color:#517918">&#39;load-path</span> (<span style="color:#06287e">expand-file-name</span> <span style="color:#4070a0">&#34;org-mac-link&#34;</span> <span style="color:#4070a0">&#34;~/.emacs.d/gitrepos&#34;</span>))
</span></span><span style="display:flex;"><span>(<span style="color:#007020">require</span> <span style="color:#517918">&#39;org-mac-link</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">add-hook</span> <span style="color:#517918">&#39;org-mode-hook</span> (<span style="color:#007020">lambda</span> ()
</span></span><span style="display:flex;"><span>(<span style="color:#06287e">define-key</span> <span style="color:#bb60d5">org-mode-map</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;C-c g&#34;</span>) <span style="color:#517918">&#39;org-mac-link-get-link</span>)))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">org-add-link-type</span> <span style="color:#4070a0">&#34;message&#34;</span> <span style="color:#517918">&#39;org-mac-message-open</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">defun</span> <span style="color:#bb60d5">org-mac-message-open</span> (<span style="color:#bb60d5">message-id</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#4070a0">&#34;Visit the message with MESSAGE-ID.
</span></span></span><span style="display:flex;"><span><span style="color:#4070a0">   This will use the command </span><span style="color:#517918">`open&#39;</span><span style="color:#4070a0"> with the message URL.&#34;</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">browse-url</span> (<span style="color:#06287e">concat</span> <span style="color:#4070a0">&#34;message://%3c&#34;</span> (<span style="color:#06287e">substring</span> <span style="color:#bb60d5">message-id</span> <span style="color:#40a070">2</span>) <span style="color:#4070a0">&#34;%3e&#34;</span>)))
</span></span></code></pre></div><p>The corresponding capture template is as follows:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-capture-template</span>
</span></span><span style="display:flex;"><span>      (<span style="color:#06287e">append</span> <span style="color:#bb60d5">org-capture-templates</span>
</span></span><span style="display:flex;"><span>              <span style="color:#666">&#39;</span>((<span style="color:#4070a0">&#34;e&#34;</span> <span style="color:#4070a0">&#34;Mail&#34;</span> <span style="color:#bb60d5">entry</span> (<span style="color:#bb60d5">file+headline</span> <span style="color:#4070a0">&#34;~/org/inbox.org&#34;</span> <span style="color:#4070a0">&#34;Mail&#34;</span>)
</span></span><span style="display:flex;"><span>                 <span style="color:#4070a0">&#34;* TODO ï‡˜ %(org-mac-message-get-links \&#34;s\&#34;) %^g \n:PROPERTIES:\n:CREATED: %U\n:END:\n\n%?&#34;</span>
</span></span><span style="display:flex;"><span>                 <span style="color:#007020">:empty-lines</span> <span style="color:#40a070">1</span>))))
</span></span></code></pre></div><p>The final capture template is for storing bookmarks. I keep links to interesting web pages
in a file called <code>bookmarks.org</code>. I use <code>org-cliplink</code> to copy URLs from the clipboard to
a file. The nice thing about this packages is that it automatically uses the title of the
website for displaying the link.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-capture-template</span>
</span></span><span style="display:flex;"><span>      (<span style="color:#06287e">append</span> <span style="color:#bb60d5">org-capture-templates</span>
</span></span><span style="display:flex;"><span>              <span style="color:#666">&#39;</span>((<span style="color:#4070a0">&#34;l&#34;</span> <span style="color:#4070a0">&#34;Link&#34;</span> <span style="color:#bb60d5">entry</span> (<span style="color:#bb60d5">file+headline</span> <span style="color:#4070a0">&#34;~/org/bookmarks.org&#34;</span> <span style="color:#4070a0">&#34;Bookmarks&#34;</span>)
</span></span><span style="display:flex;"><span>                 <span style="color:#4070a0">&#34;* %(org-cliplink-capture) %^g \n:PROPERTIES:\n:CREATED: %U\n:END:\n\n%?&#34;</span>
</span></span><span style="display:flex;"><span>                 <span style="color:#007020">:empty-lines</span> <span style="color:#40a070">1</span>))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">org-cliplink</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:defer</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:after</span> <span style="color:#bb60d5">org</span>)
</span></span></code></pre></div><p>Org&rsquo;s Agenda mode aggregates all TODO&rsquo;s and scheduled items from the different agenda
files and presents them in a nice overview. To easily customize this overview, I use the
<code>org-super-agenda</code> package, which allows you to group TODOs on all kinds of criteria.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">org-super-agenda</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:after</span> <span style="color:#bb60d5">org</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">use-package</span> <span style="color:#bb60d5">origami</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007020">:bind</span> (<span style="color:#007020">:map</span> <span style="color:#bb60d5">org-super-agenda-header-map</span> (<span style="color:#4070a0">&#34;&lt;tab&gt;&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">origami-toggle-node</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#007020">:hook</span> (<span style="color:#bb60d5">org-agenda-mode</span> <span style="color:#666">.</span> <span style="color:#bb60d5">origami-mode</span>)))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">add-hook</span> <span style="color:#517918">&#39;org-agenda-mode-hook</span> <span style="color:#517918">&#39;org-super-agenda-mode</span>)
</span></span></code></pre></div><p>Below are some preferences for Org&rsquo;s agenda:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-agenda-search-view-always-boolean</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-agenda-block-separator</span> (<span style="color:#06287e">propertize</span>
</span></span><span style="display:flex;"><span>                                  (<span style="color:#06287e">make-string</span> (<span style="color:#bb60d5">frame-width</span>) <span style="color:#4070a0">?\u</span><span style="color:#40a070">2594</span>)
</span></span><span style="display:flex;"><span>                                  <span style="color:#517918">&#39;face</span> <span style="color:#666">&#39;</span>(<span style="color:#007020">:foreground</span> <span style="color:#4070a0">&#34;grey38&#34;</span>))
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-super-agenda-header-separator</span> <span style="color:#4070a0">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-habit-show-habits-only-for-today</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-agenda-restore-windows-after-quit</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-agenda-show-future-repeats</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-deadline-warning-days</span> <span style="color:#40a070">2</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-agenda-window-setup</span> <span style="color:#517918">&#39;current</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-agenda-span</span> <span style="color:#517918">&#39;day</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-agenda-start-on-weekday</span> <span style="color:#40a070">1</span> <span style="color:#60a0b0;font-style:italic">;; nil</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-agenda-skip-deadline-prewarning-if-scheduled</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-agenda-skip-scheduled-if-done</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-agenda-skip-deadline-if-done</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-agenda-format-date</span> <span style="color:#4070a0">&#34;\n%A, %-e %B %Y&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-agenda-dim-blocked-tasks</span> <span style="color:#60add5">t</span>)
</span></span></code></pre></div><figure><img src="/ox-hugo/2022-12-24_16-59-13_Screenshot%202022-12-24%20at%2016.45.08.png"/>
</figure>

<p>My agenda view consist of three windows, which are displayed in a dedicated tab. The first
presents the agenda of the current day. The second displays my project backlog, including
TODOs temporarily stored in my Inbox, as well as articles I want to read. These different
views are stored in the variable <code>org-agenda-custom-commands</code>. First, we add a view for my
daily tasks:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-agenda-custom-commands</span>
</span></span><span style="display:flex;"><span>      <span style="color:#666">&#39;</span>((<span style="color:#4070a0">&#34;d&#34;</span> <span style="color:#4070a0">&#34;Dagelijkse Takenlijst&#34;</span>
</span></span><span style="display:flex;"><span>         ((<span style="color:#bb60d5">agenda</span> <span style="color:#4070a0">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>                  ((<span style="color:#bb60d5">org-agenda-overriding-header</span> <span style="color:#4070a0">&#34;ï³ Planner&#34;</span>)
</span></span><span style="display:flex;"><span>                   (<span style="color:#bb60d5">org-agenda-prefix-format</span> <span style="color:#666">&#39;</span>((<span style="color:#bb60d5">agenda</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34; %?-12t&#34;</span>)))
</span></span><span style="display:flex;"><span>                   (<span style="color:#bb60d5">org-agenda-span</span> <span style="color:#517918">&#39;day</span>)
</span></span><span style="display:flex;"><span>                   (<span style="color:#bb60d5">org-deadline-warning-days</span> <span style="color:#40a070">0</span>)
</span></span><span style="display:flex;"><span>                   (<span style="color:#bb60d5">org-super-agenda-groups</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#666">&#39;</span>((<span style="color:#007020">:name</span> <span style="color:#4070a0">&#34;&#34;</span> <span style="color:#007020">:time-grid</span> <span style="color:#60add5">t</span> <span style="color:#007020">:scheduled</span> <span style="color:#60add5">t</span> <span style="color:#007020">:deadline</span> <span style="color:#60add5">t</span> <span style="color:#007020">:category</span> <span style="color:#4070a0">&#34;verjaardag&#34;</span>)
</span></span><span style="display:flex;"><span>                      (<span style="color:#007020">:discard</span> (<span style="color:#007020">:anything</span> <span style="color:#60add5">t</span>))))))))))
</span></span></code></pre></div><p>Next, we define the project backlog view. The view consist of three sections: one for
unsorted TODOs in the inbox, one with all project TODOs grouped by category (which
coincides with the project name in my case), and a final section with articles I plan to
read.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#bb60d5">org-super-agenda--def-auto-group</span> <span style="color:#bb60d5">category</span> <span style="color:#4070a0">&#34;their org-category property&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:key-form</span> (<span style="color:#bb60d5">org-super-agenda--when-with-marker-buffer</span> (<span style="color:#bb60d5">org-super-agenda--get-marker</span> <span style="color:#bb60d5">item</span>)
</span></span><span style="display:flex;"><span>              (<span style="color:#bb60d5">org-get-category</span>))
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:header-form</span> (<span style="color:#06287e">concat</span> <span style="color:#4070a0">&#34;ïƒš &#34;</span> <span style="color:#bb60d5">key</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-agenda-custom-commands</span> (<span style="color:#06287e">append</span> <span style="color:#bb60d5">org-agenda-custom-commands</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">&#39;</span>((<span style="color:#4070a0">&#34;p&#34;</span> <span style="color:#4070a0">&#34;Project backlog&#34;</span>
</span></span><span style="display:flex;"><span>          ((<span style="color:#bb60d5">todo</span> <span style="color:#4070a0">&#34;TODO|NEXT|WAITING|HOLD&#34;</span>
</span></span><span style="display:flex;"><span>                ((<span style="color:#bb60d5">org-agenda-overriding-header</span> <span style="color:#4070a0">&#34;ï€œ Inbox\n&#34;</span>)
</span></span><span style="display:flex;"><span>                 (<span style="color:#bb60d5">org-agenda-prefix-format</span> <span style="color:#4070a0">&#34;  &#34;</span>)
</span></span><span style="display:flex;"><span>                 (<span style="color:#bb60d5">org-agenda-files</span> <span style="color:#666">&#39;</span>(<span style="color:#4070a0">&#34;~/org/inbox.org&#34;</span>))))
</span></span><span style="display:flex;"><span>          (<span style="color:#bb60d5">todo</span> <span style="color:#4070a0">&#34;TODO|NEXT|WAITING|HOLD&#34;</span>
</span></span><span style="display:flex;"><span>                 ((<span style="color:#bb60d5">org-agenda-overriding-header</span> <span style="color:#4070a0">&#34;ï» Project TODOs&#34;</span>)
</span></span><span style="display:flex;"><span>                 (<span style="color:#bb60d5">org-agenda-prefix-format</span> <span style="color:#4070a0">&#34;  &#34;</span>)
</span></span><span style="display:flex;"><span>                  (<span style="color:#bb60d5">org-agenda-files</span> <span style="color:#666">&#39;</span>(<span style="color:#4070a0">&#34;~/org/projects.org&#34;</span>))
</span></span><span style="display:flex;"><span>                  (<span style="color:#bb60d5">org-super-agenda-groups</span>
</span></span><span style="display:flex;"><span>                   <span style="color:#666">&#39;</span>((<span style="color:#007020">:discard</span> (<span style="color:#007020">:scheduled</span> <span style="color:#60add5">t</span> <span style="color:#007020">:date</span> <span style="color:#60add5">t</span>))
</span></span><span style="display:flex;"><span>                     (<span style="color:#007020">:auto-category</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>                     (<span style="color:#007020">:discard</span> (<span style="color:#007020">:anything</span> <span style="color:#60add5">t</span>))))))
</span></span><span style="display:flex;"><span>          (<span style="color:#bb60d5">todo</span> <span style="color:#4070a0">&#34;TODO|NEXT&#34;</span>
</span></span><span style="display:flex;"><span>                ((<span style="color:#bb60d5">org-agenda-overriding-header</span> <span style="color:#4070a0">&#34;ï€­ Reading List&#34;</span>)
</span></span><span style="display:flex;"><span>                 (<span style="color:#bb60d5">org-agenda-prefix-format</span> <span style="color:#4070a0">&#34;  &#34;</span>)
</span></span><span style="display:flex;"><span>                 (<span style="color:#bb60d5">org-agenda-files</span> <span style="color:#666">&#39;</span>(<span style="color:#4070a0">&#34;~/org/leeslijst.org&#34;</span>))
</span></span><span style="display:flex;"><span>                 (<span style="color:#bb60d5">org-super-agenda-groups</span>
</span></span><span style="display:flex;"><span>                  <span style="color:#666">&#39;</span>((<span style="color:#007020">:discard</span> (<span style="color:#007020">:scheduled</span> <span style="color:#60add5">t</span>))
</span></span><span style="display:flex;"><span>                    (<span style="color:#007020">:name</span> <span style="color:#4070a0">&#34;ïƒš Priority A reading&#34;</span> <span style="color:#007020">:priority</span> <span style="color:#4070a0">&#34;A&#34;</span>)
</span></span><span style="display:flex;"><span>                    (<span style="color:#007020">:name</span> <span style="color:#4070a0">&#34;ïƒš Priority B reading&#34;</span> <span style="color:#007020">:priority</span> <span style="color:#4070a0">&#34;B&#34;</span>)
</span></span><span style="display:flex;"><span>                    (<span style="color:#007020">:name</span> <span style="color:#4070a0">&#34;ïƒš Priority C reading&#34;</span> <span style="color:#007020">:priority</span> <span style="color:#4070a0">&#34;C&#34;</span>)
</span></span><span style="display:flex;"><span>                     (<span style="color:#007020">:discard</span> (<span style="color:#007020">:anything</span> <span style="color:#60add5">t</span>)))))))))))
</span></span></code></pre></div><p>The final view, then, is used to present a weekly overview of completed tasks.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">defun</span> <span style="color:#bb60d5">format-closed-query</span> ()
</span></span><span style="display:flex;"><span>  (<span style="color:#06287e">format</span> <span style="color:#4070a0">&#34;+TODO=\&#34;DONE\&#34;+CLOSED&gt;=\&#34;&lt;-%sd&gt;\&#34;&#34;</span> (<span style="color:#06287e">read-string</span> <span style="color:#4070a0">&#34;Number of days: &#34;</span>)))
</span></span><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-agenda-custom-commands</span> (<span style="color:#06287e">append</span> <span style="color:#bb60d5">org-agenda-custom-commands</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">&#39;</span>((<span style="color:#4070a0">&#34;w&#34;</span> <span style="color:#4070a0">&#34;Weekly review&#34;</span>
</span></span><span style="display:flex;"><span>         ((<span style="color:#bb60d5">tags</span> (<span style="color:#bb60d5">format-closed-query</span>)
</span></span><span style="display:flex;"><span>                ((<span style="color:#bb60d5">org-agenda-overriding-header</span> <span style="color:#4070a0">&#34;Overview of DONE tasks&#34;</span>)
</span></span><span style="display:flex;"><span>                 (<span style="color:#bb60d5">org-agenda-archives-mode</span> <span style="color:#60add5">t</span>))))))))
</span></span></code></pre></div><p>The third and final window displays a calendar view. Currently I use calfw and calfw-org
which displays all my TODOs in a calendar view much like those you find in popular
calendar apps.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span><span style="color:#60a0b0;font-style:italic">;; Functions to keep calendar in sight when working on the agenda</span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">defun</span> <span style="color:#bb60d5">fk-window-displaying-agenda-p</span> (<span style="color:#bb60d5">window</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#06287e">equal</span> (<span style="color:#007020">with-current-buffer</span> (<span style="color:#06287e">window-buffer</span> <span style="color:#bb60d5">window</span>) <span style="color:#bb60d5">major-mode</span>)
</span></span><span style="display:flex;"><span>         <span style="color:#517918">&#39;org-agenda-mode</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">defun</span> <span style="color:#bb60d5">fk-position-calendar-buffer</span> (<span style="color:#bb60d5">buffer</span> <span style="color:#bb60d5">alist</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">let</span> ((<span style="color:#bb60d5">agenda-window</span> (<span style="color:#06287e">car</span> (<span style="color:#bb60d5">remove-if-not</span> <span style="color:#06287e">#&#39;</span><span style="color:#bb60d5">fk-window-displaying-agenda-p</span> (<span style="color:#06287e">window-list</span>)))))
</span></span><span style="display:flex;"><span>    (<span style="color:#007020">when</span> <span style="color:#bb60d5">agenda-window</span>
</span></span><span style="display:flex;"><span>      (<span style="color:#007020">if</span> (<span style="color:#bb60d5">not</span> (<span style="color:#06287e">get-buffer-window</span> <span style="color:#4070a0">&#34;*Calendar*&#34;</span>))
</span></span><span style="display:flex;"><span>          (<span style="color:#007020">let</span> ((<span style="color:#bb60d5">desired-window</span> (<span style="color:#bb60d5">split-window</span> <span style="color:#bb60d5">agenda-window</span> <span style="color:#60add5">nil</span> <span style="color:#517918">&#39;below</span>)))
</span></span><span style="display:flex;"><span>            (<span style="color:#06287e">set-window-buffer</span> <span style="color:#bb60d5">desired-window</span> <span style="color:#bb60d5">buffer</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#bb60d5">desired-window</span>)))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">add-to-list</span> <span style="color:#517918">&#39;display-buffer-alist</span> (<span style="color:#06287e">cons</span> <span style="color:#4070a0">&#34;\\*Calendar\\*&#34;</span> (<span style="color:#06287e">cons</span> <span style="color:#06287e">#&#39;</span><span style="color:#bb60d5">fk-position-calendar-buffer</span> <span style="color:#60add5">nil</span>)))
</span></span><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">calfw</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">calfw-org</span>)
</span></span></code></pre></div><p>The following functions create this custom view:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">defun</span> <span style="color:#bb60d5">side-by-side-agenda-view</span> ()
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">progn</span>
</span></span><span style="display:flex;"><span>    (<span style="color:#bb60d5">org-agenda</span> <span style="color:#60add5">nil</span> <span style="color:#4070a0">&#34;a&#34;</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#bb60d5">split-window-right</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#bb60d5">org-agenda-redo</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#bb60d5">split-window-below</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#bb60d5">other-window</span> <span style="color:#40a070">1</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#bb60d5">cfw:open-org-calendar</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-agenda-sticky</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#bb60d5">other-window</span> <span style="color:#40a070">1</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#bb60d5">org-agenda</span> <span style="color:#60add5">nil</span> <span style="color:#4070a0">&#34;p&#34;</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-agenda-sticky</span> <span style="color:#60add5">nil</span>)))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">defun</span> <span style="color:#bb60d5">show-my-agenda</span> ()
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">interactive</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">let</span> ((<span style="color:#bb60d5">tab-bar-index</span> (<span style="color:#bb60d5">tab-bar--tab-index-by-name</span> <span style="color:#4070a0">&#34;Agenda&#34;</span>)))
</span></span><span style="display:flex;"><span>    (<span style="color:#007020">if</span> <span style="color:#bb60d5">tab-bar-index</span>
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">tab-bar-select-tab</span> (<span style="color:#06287e">+</span> <span style="color:#bb60d5">tab-bar-index</span> <span style="color:#40a070">1</span>))
</span></span><span style="display:flex;"><span>      (<span style="color:#007020">progn</span>
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">tab-bar-new-tab</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">tab-bar-rename-tab</span> <span style="color:#4070a0">&#34;Agenda&#34;</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">side-by-side-agenda-view</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#06287e">message</span> <span style="color:#4070a0">&#34;Agenda loaded&#34;</span>)))))
</span></span></code></pre></div><h4 id="org-roam">Org Roam</h4>
<p>I use Org Roam for note keeping. Org Roam is much like Roam research, Obsidian, and other
tools for so-called `networked thought&rsquo;. Org Roam provides a simple system to connect
files with links and backlinks, thus forming a graph or network of all your notes. I
mainly use it for research, and sometimes publish seperate notebooks on my website.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">org-roam</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:init</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-roam-v2-ack</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:hook</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">after-init</span> <span style="color:#666">.</span> <span style="color:#bb60d5">org-roam-mode</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:custom</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">org-roam-directory</span> (<span style="color:#bb60d5">file-truename</span> <span style="color:#4070a0">&#34;~/kaartenbak&#34;</span>))
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:bind</span> ((<span style="color:#4070a0">&#34;C-c o l&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">org-roam-buffer-toggle</span>)
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;C-c o f&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">org-roam-node-find</span>)
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;C-c o g&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">org-roam-graph</span>)
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;C-c o i&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">org-roam-node-insert</span>)
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;C-c o c&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">org-roam-capture</span>)
</span></span><span style="display:flex;"><span>         <span style="color:#60a0b0;font-style:italic">;; Dailies</span>
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;C-c o j&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">org-roam-dailies-capture-today</span>))
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">org-roam-setup</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-roam-db-gc-threshold</span> (<span style="color:#06287e">*</span> <span style="color:#40a070">10</span> <span style="color:#40a070">1024</span> <span style="color:#40a070">1024</span>))
</span></span><span style="display:flex;"><span>  <span style="color:#60a0b0;font-style:italic">;; If using org-roam-protocol</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">require</span> <span style="color:#517918">&#39;org-roam-protocol</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">require</span> <span style="color:#517918">&#39;org-roam-export</span>) <span style="color:#60a0b0;font-style:italic">;; check whether this helps exporting</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-roam-dailies-directory</span> <span style="color:#4070a0">&#34;daily/&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-roam-dailies-capture-templates</span>
</span></span><span style="display:flex;"><span>      <span style="color:#666">&#39;</span>((<span style="color:#4070a0">&#34;d&#34;</span> <span style="color:#4070a0">&#34;default&#34;</span> <span style="color:#bb60d5">entry</span>
</span></span><span style="display:flex;"><span>         <span style="color:#4070a0">&#34;* %?&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#007020">:if-new</span> (<span style="color:#bb60d5">file+head</span> <span style="color:#4070a0">&#34;%&lt;%Y-%m-%d&gt;.org&#34;</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#4070a0">&#34;#+title: %&lt;%Y-%m-%d&gt;\n&#34;</span>)))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">org-roam-bibtex</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:hook</span> (<span style="color:#bb60d5">org-roam-mode</span> <span style="color:#666">.</span> <span style="color:#bb60d5">org-roam-bibtex-mode</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:after</span> <span style="color:#bb60d5">org-roam</span>)
</span></span></code></pre></div><p>Org Roam already provides good text-based visualizations of the network, but sometimes
it&rsquo;s nice to actually browse the network in a visual graph. The package org-roam-ui gives
you a way to browse the network in an interactive graph which is rendered in the browser.
It&rsquo;s quite useful, and often helps remembering certain relationships between notes.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">org-roam-ui</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:after</span> <span style="color:#bb60d5">org-roam</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-roam-ui-sync-theme</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">org-roam-ui-follow</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">org-roam-ui-update-on-save</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">org-roam-ui-browser-function</span> <span style="color:#06287e">#&#39;</span><span style="color:#bb60d5">browse-url-chromium</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">org-roam-ui-open-on-start</span> <span style="color:#60add5">nil</span>))
</span></span></code></pre></div><p>Here&rsquo;s a picture of the network:</p>
<figure><img src="/ox-hugo/2022-12-24_16-40-43_Screenshot%202022-12-24%20at%2016.40.27.png"/>
</figure>

<p>The starting point of my org roam is a slipbox (kaartenbak), which I open in a new
dedicated tab with the following utility function:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">defun</span> <span style="color:#bb60d5">open-kaartenbak</span> ()
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">interactive</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">let</span> ((<span style="color:#bb60d5">tab-bar-index</span> (<span style="color:#bb60d5">tab-bar--tab-index-by-name</span> <span style="color:#4070a0">&#34;Kaartenbak&#34;</span>)))
</span></span><span style="display:flex;"><span>    (<span style="color:#007020">if</span> <span style="color:#bb60d5">tab-bar-index</span>
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">tab-bar-switch-to-tab</span> (<span style="color:#06287e">+</span> <span style="color:#bb60d5">tab-bar-index</span> <span style="color:#40a070">1</span>))
</span></span><span style="display:flex;"><span>      (<span style="color:#007020">progn</span>
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">tab-bar-new-tab</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">tab-bar-rename-tab</span> <span style="color:#4070a0">&#34;Kaartenbak&#34;</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">find-file</span> <span style="color:#4070a0">&#34;~/kaartenbak/20210727213932-kaartenbak.org&#34;</span>)))))
</span></span></code></pre></div><h4 id="uncategorized-settings">Uncategorized settings</h4>
<p>Below are some tweaks to make editing org files a little more enjoyable to make.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-use-speed-commands</span> <span style="color:#60add5">t</span>  <span style="color:#60a0b0;font-style:italic">; set to true for navigation with shortcuts</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-image-actual-width</span> (<span style="color:#06287e">list</span> <span style="color:#40a070">550</span>) <span style="color:#60a0b0;font-style:italic">; resize the width of images</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-format-latex-options</span> (<span style="color:#06287e">plist-put</span> <span style="color:#bb60d5">org-format-latex-options</span> <span style="color:#007020">:scale</span> <span style="color:#40a070">1.5</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-src-fontify-natively</span> <span style="color:#60add5">t</span>  <span style="color:#60a0b0;font-style:italic">; use auctex for formatting latex in org</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-hide-leading-stars</span> <span style="color:#60add5">nil</span>  <span style="color:#60a0b0;font-style:italic">; Show all stars of headers</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-adapt-indentation</span> <span style="color:#60add5">nil</span>   <span style="color:#60a0b0;font-style:italic">; Don&#39;t indent subsections (helps org-babel code blocks)</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-cite-global-bibliography</span> <span style="color:#666">&#39;</span>(<span style="color:#4070a0">&#34;~/org/bib.bib&#34;</span>)  <span style="color:#60a0b0;font-style:italic">; for citing references</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-latex-create-formula-image-program</span> <span style="color:#517918">&#39;dvisvgm</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-latex-default-class</span> <span style="color:#4070a0">&#34;tufte-handout&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">org-highlight-latex-and-related</span> <span style="color:#666">&#39;</span>(<span style="color:#bb60d5">native</span>))
</span></span></code></pre></div><p>Org-download is a convenient package for adding images or information from websites to org
documents.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">org-download</span>)
</span></span></code></pre></div><h3 id="blogging">Blogging</h3>
<p>My <a href="https://www.karsdorp.io">website</a> is built with <a href="https://gohugo.io/">Hugo</a>, a popular static site generator. The package ox-hugo
provides a convenient bridge between my prefered writing system, org-mode and Hugo. It
allows me to export notes in roam or basically any note I want to my website.
Configuration is straightforward:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">ox-hugo</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">require</span> <span style="color:#517918">&#39;oc-csl</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-hugo-base-dir</span> <span style="color:#4070a0">&#34;~/local/folgertk/&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-hugo--preprocess-buffer</span> <span style="color:#60add5">nil</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-hugo-auto-set-lastmod</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-cite-csl-styles-dir</span> <span style="color:#4070a0">&#34;~/Zotero/styles&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-cite-export-processors</span> <span style="color:#666">&#39;</span>((<span style="color:#60add5">t</span> <span style="color:#bb60d5">csl</span>)))
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:after</span> <span style="color:#bb60d5">ox</span>)
</span></span></code></pre></div><h3 id="latex">LaTeX</h3>
<p>Auctex is the go-to package for LaTeX editing in Emacs. It&rsquo;s been there for a while. It&rsquo;s
reliable, flexible, and doesn&rsquo;t get in your way.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">tex</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:defer</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:ensure</span> <span style="color:#bb60d5">auctex</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:init</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">progn</span>
</span></span><span style="display:flex;"><span>    (<span style="color:#007020">setq</span> <span style="color:#bb60d5">TeX-auto-save</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>          <span style="color:#bb60d5">TeX-parse-self</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>          <span style="color:#bb60d5">TeX-PDF-mode</span> <span style="color:#40a070">1</span>
</span></span><span style="display:flex;"><span>          <span style="color:#60a0b0;font-style:italic">;; Don&#39;t insert line-break at inline math</span>
</span></span><span style="display:flex;"><span>          <span style="color:#bb60d5">LaTeX-fill-break-at-separators</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>          <span style="color:#bb60d5">TeX-view-program-list</span>
</span></span><span style="display:flex;"><span>          <span style="color:#666">&#39;</span>((<span style="color:#4070a0">&#34;Preview.app&#34;</span> <span style="color:#4070a0">&#34;open -a Preview.app %o&#34;</span>)
</span></span><span style="display:flex;"><span>            (<span style="color:#4070a0">&#34;Skim&#34;</span> <span style="color:#4070a0">&#34;open -a Skim.app %o&#34;</span>)
</span></span><span style="display:flex;"><span>            (<span style="color:#4070a0">&#34;displayline&#34;</span> <span style="color:#4070a0">&#34;displayline -g -b %n %o %b&#34;</span>)
</span></span><span style="display:flex;"><span>            (<span style="color:#4070a0">&#34;open&#34;</span> <span style="color:#4070a0">&#34;open %o&#34;</span>))
</span></span><span style="display:flex;"><span>          <span style="color:#bb60d5">TeX-view-program-selection</span>
</span></span><span style="display:flex;"><span>          <span style="color:#666">&#39;</span>((<span style="color:#bb60d5">output-dvi</span> <span style="color:#4070a0">&#34;open&#34;</span>)
</span></span><span style="display:flex;"><span>            (<span style="color:#bb60d5">output-pdf</span> <span style="color:#4070a0">&#34;Skim&#34;</span>)
</span></span><span style="display:flex;"><span>            (<span style="color:#bb60d5">output-html</span> <span style="color:#4070a0">&#34;open&#34;</span>)))
</span></span><span style="display:flex;"><span>    (<span style="color:#bb60d5">add-hook</span> <span style="color:#517918">&#39;TeX-mode-hook</span> <span style="color:#06287e">#&#39;</span><span style="color:#bb60d5">turn-on-reftex</span>))
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">bind-key</span> <span style="color:#4070a0">&#34;C-c h l&#34;</span> <span style="color:#517918">&#39;hydra-langtool/body</span> <span style="color:#bb60d5">TeX-mode-map</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">company-auctex-init</span>))
</span></span></code></pre></div><p><code>ox-latex</code> is used for exporting org documents to LaTeX. Here I add some customization to
export with Tufte Handout by default and add the LaTeX <code>minted</code> package for exporting
blocks of code.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">ox-latex</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:ensure</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:defer</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">add-to-list</span> <span style="color:#517918">&#39;org-latex-packages-alist</span> <span style="color:#666">&#39;</span>(<span style="color:#4070a0">&#34;&#34;</span> <span style="color:#4070a0">&#34;minted&#34;</span>))
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-latex-listings</span> <span style="color:#517918">&#39;minted</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-latex-pdf-process</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">&#39;</span>(<span style="color:#4070a0">&#34;pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f&#34;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#4070a0">&#34;pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f&#34;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#4070a0">&#34;pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f&#34;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">add-to-list</span> <span style="color:#517918">&#39;org-latex-classes</span>
</span></span><span style="display:flex;"><span>             <span style="color:#666">&#39;</span>(<span style="color:#4070a0">&#34;tufte-handout&#34;</span>
</span></span><span style="display:flex;"><span>               <span style="color:#4070a0">&#34;\\documentclass{tufte-handout}&#34;</span>
</span></span><span style="display:flex;"><span>               (<span style="color:#4070a0">&#34;\\section{%s}&#34;</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;\\section*{%s}&#34;</span>)
</span></span><span style="display:flex;"><span>               (<span style="color:#4070a0">&#34;\\subsection{%s}&#34;</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;\\subsection*{%s}&#34;</span>)
</span></span><span style="display:flex;"><span>               (<span style="color:#4070a0">&#34;\\subsubsection{%s}&#34;</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;\\subsubsection*{%s}&#34;</span>)
</span></span><span style="display:flex;"><span>               (<span style="color:#4070a0">&#34;\\paragraph{%s}&#34;</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;\\paragraph*{%s}&#34;</span>)
</span></span><span style="display:flex;"><span>               (<span style="color:#4070a0">&#34;\\subparagraph{%s}&#34;</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;\\subparagraph*{%s}&#34;</span>))))
</span></span></code></pre></div><h3 id="bibliography-management">Bibliography management</h3>
<p>BibTeX support comes from the <code>bibtex</code> package. No special customization:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">bibtex</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:mode</span> ((<span style="color:#4070a0">&#34;\\.bib\\&#39;&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">bibtex-mode</span>)))
</span></span></code></pre></div><figure><img src="/ox-hugo/2022-12-23_09-37-53_Screenshot%202022-12-23%20at%2009.37.23.png"/>
</figure>

<p>Ivy-BibTeX is an extension to Ivy that allows you to search a BibTeX bibliography. Since
it is based on Ivy, it has advanced search capabilities enabling you to find what you are
looking for very quickly. The package is integrated with the different writing modes of
Emacs, such as Markdown, LaTeX and Orgmode. It works on the basis of a .bib file. I use
the bibliography manager Zotero to make one. Zotero&rsquo;s &ldquo;better bibtex&rdquo; plugin monitors
changes in the bibliographic database and automatically exports a new version of the
BibTeX file if there are any changes. Here is the complete configuration:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">ivy-bibtex</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:bind*</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#4070a0">&#34;C-c C-r&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">ivy-bibtex</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">bibtex-completion-bibliography</span> <span style="color:#4070a0">&#34;~/org/bib.bib&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">bibtex-completion-pdf-field</span> <span style="color:#4070a0">&#34;File&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">bibtex-completion-pdf-open-function</span> <span style="color:#517918">&#39;bibtex-pdf-open-function</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">ivy-bibtex-default-action</span> <span style="color:#06287e">#&#39;</span><span style="color:#bb60d5">ivy-bibtex-insert-citation</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">bibtex-completion-display-formats</span> <span style="color:#666">&#39;</span>((<span style="color:#60add5">t</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;${author:36} ${title:*} ${year:4} ${=type=:7}&#34;</span>)))
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">bibtex-completion-format-citation-functions</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">&#39;</span>((<span style="color:#bb60d5">org-mode</span>      <span style="color:#666">.</span> <span style="color:#bb60d5">bibtex-completion-format-citation-org-cite</span>)
</span></span><span style="display:flex;"><span>          (<span style="color:#bb60d5">latex-mode</span>    <span style="color:#666">.</span> <span style="color:#bb60d5">bibtex-completion-format-citation-cite</span>)
</span></span><span style="display:flex;"><span>          (<span style="color:#bb60d5">markdown-mode</span> <span style="color:#666">.</span> <span style="color:#bb60d5">bibtex-completion-format-citation-pandoc-citeproc</span>)
</span></span><span style="display:flex;"><span>          (<span style="color:#bb60d5">default</span>       <span style="color:#666">.</span> <span style="color:#bb60d5">bibtex-completion-format-citation-default</span>)))
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">ivy-bibtex-ivify-action</span> <span style="color:#bb60d5">add-to-reading-list</span> <span style="color:#bb60d5">ivy-bibtex-add-to-reading-list</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">ivy-bibtex-ivify-action</span> <span style="color:#bb60d5">show-pdf-in-finder</span> <span style="color:#bb60d5">ivy-bibtex-show-pdf-in-finder</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">ivy-bibtex-ivify-action</span> <span style="color:#bb60d5">read-on-remarkable</span> <span style="color:#bb60d5">ivy-bibtex-read-on-remarkable</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">ivy-add-actions</span> <span style="color:#517918">&#39;ivy-bibtex</span> <span style="color:#666">&#39;</span>((<span style="color:#4070a0">&#34;R&#34;</span> <span style="color:#bb60d5">ivy-bibtex-add-to-reading-list</span> <span style="color:#4070a0">&#34;add to reading list&#34;</span>)))
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">ivy-add-actions</span> <span style="color:#517918">&#39;ivy-bibtex</span> <span style="color:#666">&#39;</span>((<span style="color:#4070a0">&#34;F&#34;</span> <span style="color:#bb60d5">ivy-bibtex-show-pdf-in-finder</span> <span style="color:#4070a0">&#34;show in finder&#34;</span>)))
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">ivy-add-actions</span> <span style="color:#517918">&#39;ivy-bibtex</span> <span style="color:#666">&#39;</span>((<span style="color:#4070a0">&#34;M&#34;</span> <span style="color:#bb60d5">ivy-bibtex-read-on-remarkable</span> <span style="color:#4070a0">&#34;read on remarkable&#34;</span>))))
</span></span></code></pre></div><p>I added some &ldquo;actions&rdquo; to those that ivy-bibtex itself provides. The first action, tied to
the &ldquo;R&rdquo; key, is &ldquo;add to reading list&rdquo;. This action allows you to efficiently add
bibliographic entries to the reading list in the org agenda by typing &ldquo;R&rdquo; at a selected
entry. A capture buffer is presented to add some notes. The function that makes this
possible is the following:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">defun</span> <span style="color:#bb60d5">add-to-reading-list</span> (<span style="color:#bb60d5">keys</span> <span style="color:#007020">&amp;optional</span> <span style="color:#bb60d5">fallback-action</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">let</span> ((<span style="color:#bb60d5">link</span> (<span style="color:#bb60d5">bibtex-completion-format-citation-org-title-link-to-PDF</span> <span style="color:#bb60d5">keys</span>)))
</span></span><span style="display:flex;"><span>    (<span style="color:#bb60d5">kill-new</span> <span style="color:#bb60d5">link</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#bb60d5">org-capture</span> <span style="color:#60add5">nil</span> <span style="color:#4070a0">&#34;r&#34;</span>)))
</span></span></code></pre></div><p>To read PDFs, I prefer to use my <a href="https://remarkable.com/">Remarkable tablet</a>. It is just a lot of hassle to select
an entry from Zotero, find the corresponding PDF, and then put it on my Remarkable tablet.
The function <code>read-on-remarkable</code> makes all this a lot easier. Find an entry with
Ivy-bibtex and send the corresponding PDF directly from Emacs to the Remarkable using the
Remarkable API, rmapi.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">defun</span> <span style="color:#bb60d5">read-on-remarkable</span> (<span style="color:#bb60d5">keys</span> <span style="color:#007020">&amp;optional</span> <span style="color:#bb60d5">fallback-action</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">let</span> ((<span style="color:#bb60d5">fpath</span> (<span style="color:#06287e">car</span> (<span style="color:#bb60d5">bibtex-completion-find-pdf</span> (<span style="color:#06287e">car</span> <span style="color:#bb60d5">keys</span>)))))
</span></span><span style="display:flex;"><span>    (<span style="color:#06287e">call-process</span> <span style="color:#4070a0">&#34;rmapi&#34;</span> <span style="color:#60add5">nil</span> <span style="color:#40a070">0</span> <span style="color:#60add5">nil</span> <span style="color:#4070a0">&#34;put&#34;</span> <span style="color:#bb60d5">fpath</span>)))
</span></span></code></pre></div><p>Finally, two more functions to open PDF files either in Finder or in the PDF reader Skim.
These are two functions specifically for macOS, but I assume they could easily be adapted
for other systems.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">defun</span> <span style="color:#bb60d5">bibtex-pdf-open-function</span> (<span style="color:#bb60d5">fpath</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#06287e">call-process</span> <span style="color:#4070a0">&#34;open&#34;</span> <span style="color:#60add5">nil</span> <span style="color:#40a070">0</span> <span style="color:#60add5">nil</span> <span style="color:#4070a0">&#34;-a&#34;</span> <span style="color:#4070a0">&#34;/Applications/Skim.app&#34;</span> <span style="color:#bb60d5">fpath</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">defun</span> <span style="color:#bb60d5">show-pdf-in-finder</span> (<span style="color:#bb60d5">keys</span> <span style="color:#007020">&amp;optional</span> <span style="color:#bb60d5">fallback-action</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">let</span> ((<span style="color:#bb60d5">dir</span> (<span style="color:#06287e">file-name-directory</span> (<span style="color:#06287e">car</span> (<span style="color:#bb60d5">bibtex-completion-find-pdf</span> (<span style="color:#06287e">car</span> <span style="color:#bb60d5">keys</span>))))))
</span></span><span style="display:flex;"><span>    (<span style="color:#007020">cond</span>
</span></span><span style="display:flex;"><span>     ((<span style="color:#06287e">&gt;</span> (<span style="color:#06287e">length</span> <span style="color:#bb60d5">dir</span>) <span style="color:#40a070">1</span>)
</span></span><span style="display:flex;"><span>      (<span style="color:#bb60d5">shell-command</span> (<span style="color:#06287e">concat</span> <span style="color:#4070a0">&#34;open &#34;</span> <span style="color:#bb60d5">dir</span>)))
</span></span><span style="display:flex;"><span>     (<span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>      (<span style="color:#06287e">message</span> <span style="color:#4070a0">&#34;No PDF(s) found for this entry: %s&#34;</span> <span style="color:#bb60d5">key</span>)))))
</span></span></code></pre></div><p>In case you want to read PDF files inside Emacs?</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">pdf-tools</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span> (<span style="color:#007020">setq</span> <span style="color:#bb60d5">pdf-view-use-scaling</span> <span style="color:#60add5">t</span>))
</span></span></code></pre></div><h3 id="markdown">Markdown</h3>
<p>The <code>markdown-mode</code> package provides a major mode for editing Markdown files in Emacs.
Customization is pretty simple and straightforward.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">markdown-mode</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:commands</span> (<span style="color:#bb60d5">markdown-mode</span> <span style="color:#bb60d5">gfm-mode</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:mode</span> ((<span style="color:#4070a0">&#34;README\\.md\\&#39;&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">gfm-mode</span>)
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;\\.md\\&#39;&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">gfm-mode</span>)
</span></span><span style="display:flex;"><span>         (<span style="color:#4070a0">&#34;\\.markdown\\&#39;&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">markdown-mode</span>))
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:init</span> (<span style="color:#007020">setq</span> <span style="color:#bb60d5">markdown-command</span> <span style="color:#4070a0">&#34;pandoc&#34;</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">visual-line-column</span> <span style="color:#40a070">90</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">markdown-fontify-code-blocks-natively</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">markdown-enable-math</span> <span style="color:#60add5">t</span>))
</span></span></code></pre></div><p>The <code>pandoc-mode</code> package provides an elegant interface to perform document conversions
using the pandoc library. It&rsquo;s not strictly markdown specific, but I tend to use it mainly
when working with Markdown files.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">pandoc-mode</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:after</span> <span style="color:#bb60d5">org</span>)
</span></span></code></pre></div><h2 id="programming">Programming</h2>
<h3 id="general">General</h3>
<p>The development of the Language Server Protocol has made code completion for virtually all
text editors easier and more uniform. By decoupling completion from the presentation, much
like a backend and frontend, it is now possible to get the same high quality completions
in virtually every programming language. In Emacs, there are two modes that can speak with
LSP. I once chose <code>lsp-mode</code>, but the other, <code>eglot</code>, is just as good, in my opinion.
Below is my configuration, which largely consists of turning off all kinds of unnecessary
functionality (for me).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">lsp-mode</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:init</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">lsp-keymap-prefix</span> <span style="color:#4070a0">&#34;C-c l&#34;</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:hook</span> ((<span style="color:#bb60d5">python-mode</span> <span style="color:#666">.</span> <span style="color:#bb60d5">lsp</span>)
</span></span><span style="display:flex;"><span>         <span style="color:#60a0b0;font-style:italic">;; if you want which-key integration</span>
</span></span><span style="display:flex;"><span>         (<span style="color:#bb60d5">lsp-mode</span> <span style="color:#666">.</span> <span style="color:#bb60d5">lsp-enable-which-key-integration</span>))
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">lsp-enable-symbol-highlighting</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">lsp-lens-enable</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">lsp-headerline-breadcrumb-enable</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">lsp-modeline-code-actions-enable</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">lsp-diagnostics-provider</span> <span style="color:#007020">:none</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">lsp-modeline-diagnostics-enable</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">lsp-completion-show-detail</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">lsp-completion-show-kind</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">lsp-pyright-python-executable-cmd</span> <span style="color:#4070a0">&#34;python3&#34;</span>
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:commands</span> (<span style="color:#bb60d5">lsp</span> <span style="color:#bb60d5">lsp-deferred</span>))
</span></span></code></pre></div><p>To display completions, then, I use the company framework of Emacs, which stands for
&ldquo;complete any&rdquo;. It&rsquo;s purpose is to display completion candidates. Company is enabled
globally, with the exception of text modes and terminal modes. Other customizations are
failry straightforward.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">company</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">add-hook</span> <span style="color:#517918">&#39;prog-mode-hook</span> <span style="color:#517918">&#39;company-mode</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">company-global-modes</span> <span style="color:#666">&#39;</span>(<span style="color:#bb60d5">not</span> <span style="color:#bb60d5">text-mode</span> <span style="color:#bb60d5">term-mode</span> <span style="color:#bb60d5">markdown-mode</span> <span style="color:#bb60d5">gfm-mode</span>))
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">company-selection-wrap-around</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">company-show-numbers</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">company-tooltip-align-annotations</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">company-idle-delay</span> <span style="color:#40a070">0.5</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">company-require-match</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>        <span style="color:#bb60d5">company-minimum-prefix-length</span> <span style="color:#40a070">2</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#60a0b0;font-style:italic">;; Bind next and previous selection to more intuitive keys</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#06287e">define-key</span> <span style="color:#bb60d5">company-active-map</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;C-n&#34;</span>) <span style="color:#517918">&#39;company-select-next</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#06287e">define-key</span> <span style="color:#bb60d5">company-active-map</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;C-p&#34;</span>) <span style="color:#517918">&#39;company-select-previous</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#60a0b0;font-style:italic">;; (add-to-list &#39;company-frontends &#39;company-tng-frontend)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#60a0b0;font-style:italic">;; :bind ((&#34;TAB&#34; . &#39;company-indent-or-complete-common)))</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:after</span> <span style="color:#bb60d5">lsp-mode</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:hook</span> (<span style="color:#bb60d5">lsp-mode</span> <span style="color:#666">.</span> <span style="color:#bb60d5">company-mode</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:bind</span> (<span style="color:#007020">:map</span> <span style="color:#bb60d5">company-active-map</span> (<span style="color:#4070a0">&#34;&lt;tab&gt;&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">company-complete-selection</span>))
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">:map</span> <span style="color:#bb60d5">lsp-mode-map</span> (<span style="color:#4070a0">&#34;&lt;tab&gt;&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">company-indent-or-complete-common</span>)))
</span></span></code></pre></div><p>The package <code>company-prescient</code> provides a way to sort completion candidates using
<code>prescient</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">company-prescient</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span> (<span style="color:#bb60d5">company-prescient-mode</span>))
</span></span></code></pre></div><h3 id="python">Python</h3>
<p>I use Pyright as a Static type checker for Python, and connect that with LSP:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">lsp-pyright</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:ensure</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:hook</span> (<span style="color:#bb60d5">python-mode</span> <span style="color:#666">.</span> (<span style="color:#007020">lambda</span> ()
</span></span><span style="display:flex;"><span>                          (<span style="color:#007020">require</span> <span style="color:#517918">&#39;lsp-pyright</span>)
</span></span><span style="display:flex;"><span>                          (<span style="color:#bb60d5">lsp</span>))))  <span style="color:#60a0b0;font-style:italic">; or lsp-deferred</span>
</span></span></code></pre></div><p><code>pyvenv</code> is a minor mode to work with virtual environments in Python. Nothing fancy, but
it works:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">pyvenv</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:init</span> (<span style="color:#bb60d5">setenv</span> <span style="color:#4070a0">&#34;WORKON_HOME&#34;</span> <span style="color:#4070a0">&#34;~/.virtualenvs/&#34;</span>))
</span></span></code></pre></div><p>The <code>jupyter</code> package offers a REPL and org-mode source block frontend to Jupyter kernels.
This intergration with org-mode is truly amazing, as it allows you to turn any org
document into a fully interactive notebook much like Jupyter, without heaving to deal with
the unpleasantness of typing in a browser. It also gives me all the benefits of working in
org mode, including the integration with my agenda, making notes in org roam, and my blog.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">jupyter</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:after</span> <span style="color:#bb60d5">org</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-babel-python-command</span> <span style="color:#4070a0">&#34;python3&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-confirm-babel-evaluate</span> <span style="color:#60add5">nil</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">org-babel-do-load-languages</span> <span style="color:#517918">&#39;org-babel-load-languages</span> <span style="color:#666">&#39;</span>((<span style="color:#bb60d5">jupyter</span> <span style="color:#666">.</span> <span style="color:#60add5">t</span>)))
</span></span><span style="display:flex;"><span>  <span style="color:#60a0b0;font-style:italic">;; default args for jupyter-python</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-babel-default-header-args:jupyter-python</span>
</span></span><span style="display:flex;"><span>   <span style="color:#60a0b0;font-style:italic">;; NOTE: for converting Python Dataframes into org tables, I&#39;m using code from</span>
</span></span><span style="display:flex;"><span>   <span style="color:#60a0b0;font-style:italic">;; https://github.com/gregsexton/ob-ipython/blob/7147455230841744fb5b95dcbe03320313a77124/README.org#tips-and-tricks</span>
</span></span><span style="display:flex;"><span>   <span style="color:#60a0b0;font-style:italic">;; which I put in .ipython/profile_default/startup/orgtable.py as a startup file for ipython.</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">&#39;</span>((<span style="color:#007020">:results</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;replace&#34;</span>)
</span></span><span style="display:flex;"><span>          (<span style="color:#007020">:async</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;yes&#34;</span>)
</span></span><span style="display:flex;"><span>          (<span style="color:#007020">:session</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;py&#34;</span>)
</span></span><span style="display:flex;"><span>          (<span style="color:#007020">:kernel</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;python3&#34;</span>)))
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">org-babel-default-header-args:jupyter-R</span>
</span></span><span style="display:flex;"><span>        <span style="color:#666">&#39;</span>((<span style="color:#007020">:results</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;replace&#34;</span>)
</span></span><span style="display:flex;"><span>          (<span style="color:#007020">:async</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;yes&#34;</span>)
</span></span><span style="display:flex;"><span>          (<span style="color:#007020">:session</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;R&#34;</span>)
</span></span><span style="display:flex;"><span>          (<span style="color:#007020">:kernel</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;R&#34;</span>)))
</span></span><span style="display:flex;"><span>  (<span style="color:#bb60d5">add-hook</span> <span style="color:#517918">&#39;org-babel-after-execute-hook</span> <span style="color:#517918">&#39;org-redisplay-inline-images</span>))
</span></span></code></pre></div><h3 id="r">R</h3>
<p>For working with R, Emacs Speaks Statistics (ESS) provides an unmatched experience. It&rsquo;s
an interactive environment much like jupyter, which allows you to easily and iteratively
execute parts of your statistical analyses in R.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">ess</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:defer</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">ess-eval-visibly</span> <span style="color:#517918">&#39;nowait</span>))
</span></span></code></pre></div><h3 id="stan">Stan</h3>
<p>Libraries for doing Bayesian statistics, both in Python and R, often rely on Stan. There
is some support in Emacs for writing Stan code, including rudimentary completion and
documentation.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">stan-mode</span> <span style="color:#007020">:defer</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">company-stan</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:after</span> <span style="color:#bb60d5">stan-mode</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:hook</span> (<span style="color:#bb60d5">stan-mode</span> <span style="color:#666">.</span> <span style="color:#bb60d5">company-stan-setup</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">eldoc-stan</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:after</span> <span style="color:#bb60d5">stan-mode</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:hook</span> (<span style="color:#bb60d5">stan-mode</span> <span style="color:#666">.</span> <span style="color:#bb60d5">eldoc-stan-setup</span>))
</span></span></code></pre></div><h2 id="searching">Searching</h2>
<p>The packaghe <code>deadgrep</code> offers an intuitive interface on <a href="https://github.com/BurntSushi/ripgrep">ripgrep</a>, which is a fast
alternative to grep. I add a little utility function to search directly in my folder with
org files.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">deadgrep</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:bind*</span>
</span></span><span style="display:flex;"><span>  ((<span style="color:#4070a0">&#34;C-c r&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">deadgrep</span>)
</span></span><span style="display:flex;"><span>   (<span style="color:#4070a0">&#34;C-c f&#34;</span> <span style="color:#666">.</span> <span style="color:#bb60d5">grep-org-files</span>))
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">defun</span> <span style="color:#bb60d5">grep-org-files</span> (<span style="color:#bb60d5">words</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#007020">interactive</span> <span style="color:#4070a0">&#34;sSearch org files: &#34;</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#007020">let</span> ((<span style="color:#bb60d5">default-directory</span> <span style="color:#bb60d5">org-directory</span>)
</span></span><span style="display:flex;"><span>          (<span style="color:#bb60d5">deadgrep--file-type</span> <span style="color:#666">&#39;</span>(<span style="color:#bb60d5">glob</span> <span style="color:#666">.</span> <span style="color:#4070a0">&#34;*.org&#34;</span>))
</span></span><span style="display:flex;"><span>          (<span style="color:#bb60d5">deadgrep--context</span> <span style="color:#666">&#39;</span>(<span style="color:#40a070">1</span> <span style="color:#666">.</span> <span style="color:#40a070">1</span>))
</span></span><span style="display:flex;"><span>          (<span style="color:#bb60d5">deadgrep--search-type</span> <span style="color:#517918">&#39;regexp</span>))
</span></span><span style="display:flex;"><span>      (<span style="color:#bb60d5">deadgrep</span> <span style="color:#bb60d5">words</span>))))
</span></span></code></pre></div><h2 id="utility-functions">Utility functions</h2>
<p>Handy little package and functionality to open a terminal (in my case iterm2) in the same
folder as where the working document resides.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">terminal-here</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">setq</span> <span style="color:#bb60d5">terminal-here-mac-terminal-command</span> <span style="color:#517918">&#39;iterm2</span>))
</span></span></code></pre></div><p>Simple utility function for (un)commenting lines. Bound to M-/.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">defun</span> <span style="color:#bb60d5">comment-current-line-dwim</span> ()
</span></span><span style="display:flex;"><span>  <span style="color:#4070a0">&#34;Comment or uncomment the current line.&#34;</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">interactive</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">save-excursion</span>
</span></span><span style="display:flex;"><span>    (<span style="color:#007020">if</span> (<span style="color:#bb60d5">use-region-p</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">comment-or-uncomment-region</span> (<span style="color:#06287e">region-beginning</span>) (<span style="color:#06287e">region-end</span>))
</span></span><span style="display:flex;"><span>      (<span style="color:#bb60d5">push-mark</span> (<span style="color:#06287e">beginning-of-line</span>) <span style="color:#60add5">t</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>      (<span style="color:#06287e">end-of-line</span>)
</span></span><span style="display:flex;"><span>      (<span style="color:#bb60d5">comment-dwim</span> <span style="color:#60add5">nil</span>))))
</span></span></code></pre></div><p>Simple function to create a scratch pad for random thoughts. Similar to Emacs&rsquo;s <strong>scratch</strong>
buffer but for org files.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">defun</span> <span style="color:#bb60d5">new-scratch-pad</span> ()
</span></span><span style="display:flex;"><span><span style="color:#4070a0">&#34;Create a new org-mode buffer for random stuff.&#34;</span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">interactive</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#007020">let</span> ((<span style="color:#bb60d5">tab-bar-index</span> (<span style="color:#bb60d5">tab-bar--tab-index-by-name</span> <span style="color:#4070a0">&#34;Kladblok&#34;</span>)))
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">if</span> <span style="color:#bb60d5">tab-bar-index</span>
</span></span><span style="display:flex;"><span>      (<span style="color:#007020">progn</span>
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">tab-bar-select-tab</span> (<span style="color:#06287e">+</span> <span style="color:#bb60d5">tab-bar-index</span> <span style="color:#40a070">1</span>))
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">switch-to-buffer</span> <span style="color:#4070a0">&#34;kladblok&#34;</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">olivetti-mode</span> <span style="color:#60add5">t</span>))
</span></span><span style="display:flex;"><span>    (<span style="color:#007020">progn</span>
</span></span><span style="display:flex;"><span>      (<span style="color:#bb60d5">tab-bar-new-tab</span>)
</span></span><span style="display:flex;"><span>      (<span style="color:#bb60d5">tab-bar-rename-tab</span> <span style="color:#4070a0">&#34;Kladblok&#34;</span>)
</span></span><span style="display:flex;"><span>      (<span style="color:#007020">let</span> ((<span style="color:#bb60d5">buffer</span> (<span style="color:#bb60d5">generate-new-buffer</span> <span style="color:#4070a0">&#34;kladblok&#34;</span>)))
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">switch-to-buffer</span> <span style="color:#bb60d5">buffer</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#007020">setq</span> <span style="color:#bb60d5">buffer-offer-save</span> <span style="color:#60add5">t</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">org-mode</span>)
</span></span><span style="display:flex;"><span>        (<span style="color:#bb60d5">olivetti-mode</span> <span style="color:#60add5">t</span>))))))
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">defun</span> <span style="color:#bb60d5">xah-unfill-paragraph</span> ()
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">interactive</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">let</span> ((<span style="color:#bb60d5">fill-column</span> <span style="color:#bb60d5">most-positive-fixnum</span>))
</span></span><span style="display:flex;"><span>    (<span style="color:#bb60d5">fill-paragraph</span>)))
</span></span></code></pre></div><p>Hydra to resize windows without touching the mouse.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#bb60d5">defhydra</span> <span style="color:#bb60d5">hydra-windows</span> (<span style="color:#007020">:color</span> <span style="color:#bb60d5">red</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#4070a0">&#34;s&#34;</span> <span style="color:#bb60d5">shrink-window-horizontally</span> <span style="color:#4070a0">&#34;shrink horizontally&#34;</span> <span style="color:#007020">:column</span> <span style="color:#4070a0">&#34;Sizing&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#4070a0">&#34;e&#34;</span> <span style="color:#bb60d5">enlarge-window-horizontally</span> <span style="color:#4070a0">&#34;enlarge horizontally&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#4070a0">&#34;b&#34;</span> <span style="color:#bb60d5">balance-windows</span> <span style="color:#4070a0">&#34;balance window height&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#4070a0">&#34;m&#34;</span> <span style="color:#bb60d5">maximize-window</span> <span style="color:#4070a0">&#34;maximize current window&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#4070a0">&#34;M&#34;</span> <span style="color:#bb60d5">minimize-window</span> <span style="color:#4070a0">&#34;minimize current window&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  (<span style="color:#4070a0">&#34;h&#34;</span> <span style="color:#bb60d5">split-window-below</span> <span style="color:#4070a0">&#34;split horizontally&#34;</span> <span style="color:#007020">:column</span> <span style="color:#4070a0">&#34;Split management&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#4070a0">&#34;v&#34;</span> <span style="color:#bb60d5">split-window-right</span> <span style="color:#4070a0">&#34;split vertically&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#4070a0">&#34;d&#34;</span> <span style="color:#bb60d5">delete-window</span> <span style="color:#4070a0">&#34;delete current window&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#4070a0">&#34;x&#34;</span> <span style="color:#bb60d5">delete-other-windows</span> <span style="color:#4070a0">&#34;delete-other-windows&#34;</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#4070a0">&#34;q&#34;</span> <span style="color:#60add5">nil</span> <span style="color:#4070a0">&#34;quit menu&#34;</span> <span style="color:#007020">:color</span> <span style="color:#bb60d5">blue</span> <span style="color:#007020">:column</span> <span style="color:#60add5">nil</span>))
</span></span></code></pre></div><h2 id="global-key-bindings">Global key bindings</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">mac-option-key-is-meta</span> <span style="color:#60add5">nil</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">mac-command-key-is-meta</span> <span style="color:#60add5">t</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">mac-command-modifier</span> <span style="color:#517918">&#39;meta</span>
</span></span><span style="display:flex;"><span>      <span style="color:#bb60d5">mac-option-modifier</span> <span style="color:#517918">&#39;none</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">global-set-key</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;M-/&#34;</span>) <span style="color:#517918">&#39;comment-current-line-dwim</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">global-set-key</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;M-+&#34;</span>)  <span style="color:#517918">&#39;mode-line-other-buffer</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">global-set-key</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;M-`&#34;</span>) <span style="color:#517918">&#39;other-frame</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">global-set-key</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;C-x k&#34;</span>) <span style="color:#517918">&#39;kill-this-buffer</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">global-set-key</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;C-x K&#34;</span>) <span style="color:#517918">&#39;kill-buffer</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">global-set-key</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;C-c s&#34;</span>) <span style="color:#517918">&#39;new-scratch-pad</span>)
</span></span><span style="display:flex;"><span><span style="color:#60a0b0;font-style:italic">;; Turn off swiping to switch buffers (defined in mac-win.el)</span>
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">global-unset-key</span> [<span style="color:#bb60d5">swipe-left</span>])
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">global-unset-key</span> [<span style="color:#bb60d5">swipe-right</span>])
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">global-unset-key</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;C-&lt;mouse-4&gt;&#34;</span>))
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">global-unset-key</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;C-&lt;mouse-5&gt;&#34;</span>))
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">global-unset-key</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;C-&lt;wheel-down&gt;&#34;</span>))
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">global-unset-key</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;C-&lt;wheel-up&gt;&#34;</span>))
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">global-set-key</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;M-n&#34;</span>) <span style="color:#517918">&#39;hydra-windows/body</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#06287e">define-key</span> <span style="color:#bb60d5">global-map</span> <span style="color:#4070a0">&#34;\C-ca&#34;</span> <span style="color:#517918">&#39;org-agenda</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#06287e">define-key</span> <span style="color:#bb60d5">global-map</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;C-c M-a&#34;</span>) <span style="color:#517918">&#39;show-my-agenda</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#bb60d5">global-set-key</span> (<span style="color:#bb60d5">kbd</span> <span style="color:#4070a0">&#34;C-x C-b&#34;</span>) <span style="color:#517918">&#39;tab-bar-select-tab-by-name</span>)
</span></span></code></pre></div><h2 id="server">Server</h2>
<p>Start an Emacs server, which allows you to start up successive clients instantaneously:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">use-package</span> <span style="color:#bb60d5">server</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007020">:config</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#007020">unless</span> (<span style="color:#bb60d5">server-running-p</span>)
</span></span><span style="display:flex;"><span>    (<span style="color:#bb60d5">server-start</span>)))
</span></span></code></pre></div><h2 id="custom-file">Custom file</h2>
<p>Config changes made through the customize UI will be stored here</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#007020">setq</span> <span style="color:#bb60d5">custom-file</span> (<span style="color:#06287e">expand-file-name</span> <span style="color:#4070a0">&#34;custom.el&#34;</span> <span style="color:#4070a0">&#34;~/.emacs.d&#34;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#007020">when</span> (<span style="color:#06287e">file-exists-p</span> <span style="color:#bb60d5">custom-file</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#06287e">load</span> <span style="color:#bb60d5">custom-file</span>))
</span></span></code></pre></div>
    </div>
  </article>

  
  






  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Notebooks</a></li>
         
          <li><a href="/references">Publications</a></li>
        
      </ul>
    </div>

    
    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#what-s-this">What&rsquo;s this?</a></li>
    <li><a href="#startup">Startup</a>
      <ul>
        <li><a href="#encoding">Encoding</a></li>
        <li><a href="#path">Path</a></li>
      </ul>
    </li>
    <li><a href="#package-management">Package management</a></li>
    <li><a href="#aesthetics">Aesthetics</a>
      <ul>
        <li><a href="#interface-components">Interface components</a></li>
        <li><a href="#theming">Theming</a></li>
        <li><a href="#typography">Typography</a></li>
      </ul>
    </li>
    <li><a href="#completion">Completion</a></li>
    <li><a href="#editing">Editing</a></li>
    <li><a href="#system-management">System management</a>
      <ul>
        <li><a href="#dired">Dired</a></li>
        <li><a href="#backups-recovery-recent-files">Backups / Recovery / Recent files</a></li>
        <li><a href="#tramp">Tramp</a></li>
      </ul>
    </li>
    <li><a href="#project-management">Project Management</a></li>
    <li><a href="#git">Git</a></li>
    <li><a href="#writing">Writing</a>
      <ul>
        <li><a href="#org-mode">Org mode</a>
          <ul>
            <li><a href="#agenda">Agenda</a></li>
            <li><a href="#org-roam">Org Roam</a></li>
            <li><a href="#uncategorized-settings">Uncategorized settings</a></li>
          </ul>
        </li>
        <li><a href="#blogging">Blogging</a></li>
        <li><a href="#latex">LaTeX</a></li>
        <li><a href="#bibliography-management">Bibliography management</a></li>
        <li><a href="#markdown">Markdown</a></li>
      </ul>
    </li>
    <li><a href="#programming">Programming</a>
      <ul>
        <li><a href="#general">General</a></li>
        <li><a href="#python">Python</a></li>
        <li><a href="#r">R</a></li>
        <li><a href="#stan">Stan</a></li>
      </ul>
    </li>
    <li><a href="#searching">Searching</a></li>
    <li><a href="#utility-functions">Utility functions</a></li>
    <li><a href="#global-key-bindings">Global key bindings</a></li>
    <li><a href="#server">Server</a></li>
    <li><a href="#custom-file">Custom file</a></li>
  </ul>
</nav>
    </div>
    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f&text=My%20Literate%20Emacs%20Configuration" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f&title=My%20Literate%20Emacs%20Configuration" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f&is_video=false&description=My%20Literate%20Emacs%20Configuration" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=My%20Literate%20Emacs%20Configuration&body=Check out this article: https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f&title=My%20Literate%20Emacs%20Configuration" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f&title=My%20Literate%20Emacs%20Configuration" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f&name=My%20Literate%20Emacs%20Configuration&description=What%26rsquo%3bs%20this%3f%20This%20document%20is%20a%20literate%20version%20of%20my%20GNU%20Emacs%20configuration%20written%20in%20Org%20mode.%20Org%20mode%20is%20a%20kind%20of%20markdown%20with%20super%20powers%2c%20which%20allows%20you%20to%20write%20code%20side%20by%20side%20with%20the%20corresponding%20documentation.%20My%20Emacs%20configuration%20is%20the%20result%20of%20certainly%20years%20and%20years%20of%20tinkering%20and%20refinement%2c%20and%20there%20is%20always%20something%20that%20could%20be%20just%20a%20little%20bit%20better%20or%20different%20so%20that%20it%20fits%20my%20workflow%20better." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.karsdorp.io%2fposts%2fdotemacs%2f&t=My%20Literate%20Emacs%20Configuration" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2023  Folgert Karsdorp; made with Hugo and Org-mode 
  </div>
  <div class="footer-right">
    
    
    
    
    
    
    
    
    
    
    
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>

<script src=/js/code-copy.js></script>



  


<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    },
    svg: {
      fontCache: 'global'
    }
  };
</script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>

</html>
