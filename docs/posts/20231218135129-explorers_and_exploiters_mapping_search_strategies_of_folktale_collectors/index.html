<!DOCTYPE html>
<html lang="en-us">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=60738&amp;path=livereload" data-no-instant defer></script>
  
  
  
  
  <script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>
  <link rel="stylesheet" href="https://latest.cactus.chat/style.css" type="text/css">
  
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Coverage-based Comparisons of Cultural Diversity | Folgert Karsdorp</title>
  <link rel = 'canonical' href = 'http://localhost:60738/posts/20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors/'>
  <meta name="description" content="I&#39;m a researcher in Computational Humanities and Cultural
  Evolution at Amsterdam&#39;s [Meertens
  Institute](https://meertens.knaw.nl/index.php/en/), affiliated with the Royal
  Netherlands Academy of Arts and Sciences. I study aspects of cultural change
  and experiment with methods to quantify cultural diversity. A significant
  aspect of my recent work is understanding and accounting for biases in these
  quantifications. I like to use computational models from fields such as
  Machine Learning, Cultural Evolution, and Ecology to aid these investigations.
  Beyond research, I have a passion for teaching computer programming,
  especially within the Humanities context. Together with [Mike
  Kestemont](http://mikekestemont.github.io/) and [Allen
  Riddell](https://www.ariddell.org/), I published the book &#34;Humanities Data
  Analysis&#34; with Princeton University Press, which guides readers on leveraging
  Python for analyzing Humanities data. Check out the open access edition
  [here](https://www.humanitiesdataanalysis.org)!">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:url" content="http://localhost:60738/posts/20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors/">
  <meta property="og:site_name" content="Folgert Karsdorp">
  <meta property="og:title" content="Coverage-based Comparisons of Cultural Diversity">
  <meta property="og:description" content="This notebook is the first of a series of notebooks based on a talk I gave at the CUDAN 2023 conference in Tallinn, Estonia (https://cudan.tlu.ee/conference/) together with Melvin Wevers and Mike Kestemont, titled Steady Formulas, Shifting Spells: Estimating Folktale Diversity.
Comparing Cultural Diversity Estimates Quantifying the diversity of cultural collections presents many unique challenges. In earlier posts (e.g., Demystifying Chao1 with Good-Turing and Population Size Estimation as a Regression Problem), I’ve discussed the issue of undersampling in cultural collections, largely as a consequence of cultural loss. In this post, I discuss some problems when comparing diversity measurements: When and how can we assert that one collection is more diverse than another?">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-01-17T11:23:27+01:00">
    <meta property="article:modified_time" content="2024-01-17T11:23:27+01:00">
    <meta property="article:tag" content="Diversity">
    <meta property="article:tag" content="Chao2">
    <meta property="article:tag" content="Incidence">
    <meta property="article:tag" content="Folktales">
    <meta property="article:tag" content="Bias">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Coverage-based Comparisons of Cultural Diversity">
  <meta name="twitter:description" content="This notebook is the first of a series of notebooks based on a talk I gave at the CUDAN 2023 conference in Tallinn, Estonia (https://cudan.tlu.ee/conference/) together with Melvin Wevers and Mike Kestemont, titled Steady Formulas, Shifting Spells: Estimating Folktale Diversity.
Comparing Cultural Diversity Estimates Quantifying the diversity of cultural collections presents many unique challenges. In earlier posts (e.g., Demystifying Chao1 with Good-Turing and Population Size Estimation as a Regression Problem), I’ve discussed the issue of undersampling in cultural collections, largely as a consequence of cultural loss. In this post, I discuss some problems when comparing diversity measurements: When and how can we assert that one collection is more diverse than another?">

  
  
    
  
  
  <link rel="stylesheet" href="http://localhost:60738/css/styles.85c9c1b51f49ece16d975cab5c5d147bd405ddcb530f6c5b09894f9235e49896bd73f702fcade7d1589e033209b682040f18a8d4eaf12d917c835b2b48833905.css" integrity="sha512-hcnBtR9J7OFtl1yrXF0Ue9QF3ctTD2xbCYlPkjXkmJa9c/cC/K3n0VieAzIJtoIEDxio1OrxLZF8g1srSIM5BQ=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="http://localhost:60738/images/favicon.ico" />

  
  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Notebooks</a></li>
         
        <li><a href="/references">Publications</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" http://localhost:60738/posts/20230425123401-unseen_crime_simulation/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="http://localhost:60738/posts/20231219152440-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f&text=Coverage-based%20Comparisons%20of%20Cultural%20Diversity" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f&title=Coverage-based%20Comparisons%20of%20Cultural%20Diversity" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f&is_video=false&description=Coverage-based%20Comparisons%20of%20Cultural%20Diversity" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Coverage-based%20Comparisons%20of%20Cultural%20Diversity&body=Check out this article: http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f&title=Coverage-based%20Comparisons%20of%20Cultural%20Diversity" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f&title=Coverage-based%20Comparisons%20of%20Cultural%20Diversity" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f&name=Coverage-based%20Comparisons%20of%20Cultural%20Diversity&description=%3cp%3eThis%20notebook%20is%20the%20first%20of%20a%20series%20of%20notebooks%20based%20on%20a%20talk%20I%20gave%20at%0athe%20CUDAN%202023%20conference%20in%20Tallinn%2c%20Estonia%20%28%3ca%20href%3d%22https%3a%2f%2fcudan.tlu.ee%2fconference%2f%22%3ehttps%3a%2f%2fcudan.tlu.ee%2fconference%2f%3c%2fa%3e%29%0atogether%20with%20%3ca%20href%3d%22https%3a%2f%2fwww.melvinwevers.nl%22%3eMelvin%20Wevers%3c%2fa%3e%20and%20%3ca%20href%3d%22http%3a%2f%2fmikekestemont.github.io%2f%22%3eMike%20Kestemont%3c%2fa%3e%2c%20titled%20%3cem%3eSteady%20Formulas%2c%0aShifting%20Spells%3a%20Estimating%20Folktale%20Diversity%3c%2fem%3e.%3c%2fp%3e%0a%3ch2%20id%3d%22comparing-cultural-diversity-estimates%22%3eComparing%20Cultural%20Diversity%20Estimates%3c%2fh2%3e%0a%3cp%3eQuantifying%20the%20diversity%20of%20cultural%20collections%20presents%20many%20unique%0achallenges.%20In%20earlier%20posts%20%28e.g.%2c%20%3ca%20href%3d%22%2fposts%2f20220309103709-good_turing_as_an_unseen_species_model%2f%22%3eDemystifying%20Chao1%20with%20Good-Turing%3c%2fa%3e%20and%0a%3ca%20href%3d%22%2fposts%2f20220405110456-population_size_regression_estimators%2f%22%3ePopulation%20Size%20Estimation%20as%20a%20Regression%20Problem%3c%2fa%3e%29%2c%20I%26rsquo%3bve%20discussed%20the%20issue%20of%0aundersampling%20in%20cultural%20collections%2c%20largely%20as%20a%20consequence%20of%20cultural%0aloss.%20In%20this%20post%2c%20I%20discuss%20some%20problems%20when%20%3cem%3ecomparing%3c%2fem%3e%20diversity%0ameasurements%3a%20When%20and%20how%20can%20we%20assert%20that%20one%20collection%20is%20more%20diverse%0athan%20another%3f%3c%2fp%3e" aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f&t=Coverage-based%20Comparisons%20of%20Cultural%20Diversity" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#comparing-cultural-diversity-estimates">Comparing Cultural Diversity Estimates</a></li>
    <li><a href="#rarifying-species">Rarifying Species</a></li>
    <li><a href="#rarifying-folktales">Rarifying Folktales</a></li>
    <li><a href="#replication-or-doubling-property">Replication or Doubling Property</a></li>
    <li><a href="#standardizing-by-sample-coverage">Standardizing by Sample Coverage</a></li>
    <li><a href="#comparing-folktale-diversity-by-coverage">Comparing Folktale Diversity by Coverage</a></li>
    <li><a href="#outlook">Outlook</a></li>
    <li><a href="#references">References</a></li>
  </ul>
</nav>
    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Coverage-based Comparisons of Cultural Diversity
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2024-01-17 11:23:27 &#43;0100 CET" itemprop="datePublished">2024-01-17</time>
          
        </div>
        
        
        <div class="article-read-time">
          <i class="far fa-clock"></i>
          
          10 minute read
        </div>
        
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/diversity" rel="tag">diversity</a>
            
             ,  
            <a class="tag-link" href="/tags/chao2" rel="tag">chao2</a>
            
             ,  
            <a class="tag-link" href="/tags/incidence" rel="tag">incidence</a>
            
             ,  
            <a class="tag-link" href="/tags/folktales" rel="tag">folktales</a>
            
             ,  
            <a class="tag-link" href="/tags/bias" rel="tag">bias</a>
            
        </div>
        
      </div>
    </header>

  
    
    <div class="content" itemprop="articleBody">
      <p>This notebook is the first of a series of notebooks based on a talk I gave at
the CUDAN 2023 conference in Tallinn, Estonia (<a href="https://cudan.tlu.ee/conference/">https://cudan.tlu.ee/conference/</a>)
together with <a href="https://www.melvinwevers.nl">Melvin Wevers</a> and <a href="http://mikekestemont.github.io/">Mike Kestemont</a>, titled <em>Steady Formulas,
Shifting Spells: Estimating Folktale Diversity</em>.</p>
<h2 id="comparing-cultural-diversity-estimates">Comparing Cultural Diversity Estimates</h2>
<p>Quantifying the diversity of cultural collections presents many unique
challenges. In earlier posts (e.g., <a href="/posts/20220309103709-good_turing_as_an_unseen_species_model/">Demystifying Chao1 with Good-Turing</a> and
<a href="/posts/20220405110456-population_size_regression_estimators/">Population Size Estimation as a Regression Problem</a>), I&rsquo;ve discussed the issue of
undersampling in cultural collections, largely as a consequence of cultural
loss. In this post, I discuss some problems when <em>comparing</em> diversity
measurements: When and how can we assert that one collection is more diverse
than another?</p>
<p>The collection I study in this notebook is a unique assemblage of Dutch
folktales, gathered by the Meertens Institute in the 1960s and 70s. Embarking on
an ambitious project to create a comprehensive Dutch folktale atlas, the
institute recruited a group of dedicated folktale collectors. These collectors
were tasked with visiting storytellers within specific areas around their homes,
ultimately with the aim of covering the entire map of the Netherlands. This
groundbreaking endeavor in folklore research led to the collection of over
32,000 stories. However, as indicated by the map below, many regions of the
Netherlands remained uncharted in this collection, highlighting gaps and the
diverse interests of the collectors in shaping its completeness and reliability.</p>
<figure><img src="/ox-hugo/2023-12-18_14-07-08_dekker-kaart.jpg"
    alt="Figure 1: Map by A.J. Dekker showing the residences of the narrators visited by the collectors of the Folklore Bureau between 1962 and 1977."><figcaption>
      <p><span class="figure-number">Figure 1: </span>Map by A.J. Dekker showing the residences of the narrators visited by the collectors of the Folklore Bureau between 1962 and 1977.</p>
    </figcaption>
</figure>

<p>Cultural diversity manifests in various forms, and one of the simplest methods
to gauge the diversity in collections such as these folktales is by counting the
unique items or unique categories within them. Referred to as the &lsquo;<a href="">richness</a>&rsquo; of
the collection, this metric offers a quick snapshot of their diversity. However,
this simplicity comes with a downside. The richness measurement is notably
sensitive; even minor changes in the collection can significantly impact the
result. Furthermore, there is a strong correlation between the perceived
richness and the size of the sample (<a href="#citeproc_bib_item_3">Chao and Jost 2012</a>).
And this correlation can greatly impede comparisons across different
collections.</p>
<p>This correlation is clearly present in the collection of folktales, where the
sampling effort of the collectors varies greatly. Take the folktale collector
Dam Jaarsma, for example. He compiled a collection with over 15 thousand
stories. These stories can be classified into more than 600 unique folktale
types (such as the ones by <a href="#citeproc_bib_item_6">Uther 2004</a>). By
contrast, a collection of someone like Kooijman consists of a little over 2
thousand stories, which can be grouped into a little over 100 different types.
Strictly speaking, the collection of Jaarsma is more diverse than that of
Kooijman, yet intuitively it feels unfair to state that the area where these
stories were sampled from are more or less diverse, as it so strongly depends on
the collectors&rsquo; search efforts. This strong correlation between sample size and
richness is further illustrated in the following plot:</p>
<figure><img src="/ox-hugo/2024-01-12_12-00-58_sample-size.png"
    alt="Figure 2: Relation between the sample size (measure in number of stories) and unique story types."><figcaption>
      <p><span class="figure-number">Figure 2: </span>Relation between the sample size (measure in number of stories) and unique story types.</p>
    </figcaption>
</figure>

<h2 id="rarifying-species">Rarifying Species</h2>
<p>Ecologists face a similar problem when measuring biological diversity. To adjust
for the impact of sample size, ecologists have developed a method called
rarefaction. This technique involves downsizing larger collections to match the
size of the smallest sample. The essence of rarefaction lies in its ability to
compute the richness of species for a specific count of individual samples. This
is done through the construction of what are known as rarefaction curves. These
curves graph the relationship between the number of species identified and the
number of samples collected. They can be considered the statistical expection of
the corresponding collector&rsquo;s curve (also called &lsquo;accumulation curve&rsquo; or
&lsquo;species discovery curve&rsquo;), which records the <em>empirical</em> number of species
reveiled as we progress to sample more individuals. Consider the plot below,
depicting both an accumulation curve and its corresponding rarefaction curve:</p>
<figure><img src="/ox-hugo/2024-01-15_09-15-39_rarefaction.png"
    alt="Figure 3: Fictional collector&rsquo;s curve and its corresponding rarefaction curve."><figcaption>
      <p><span class="figure-number">Figure 3: </span>Fictional collector&rsquo;s curve and its corresponding rarefaction curve.</p>
    </figcaption>
</figure>

<p>Typically, these rarefaction curves rise quickly initially, capturing the most
common species, and then level off as it becomes increasingly challenging to
find new, rare species. The fundamental concept is that the more individuals you
sample from a community, the more species you&rsquo;re likely to encounter. To
construct a rarefaction curve, ecologists repeatedly and randomly select subsets
of size \(m\) from the total pool of \(N\) samples. They then plot the average
species count found in each subset, ranging from 1 to \(N\). In essence,
rarefaction predicts the expected species count in a smaller group of \(m\)
individuals (or \(m\) samples), randomly selected from the larger set of \(N\)
samples.</p>
<h2 id="rarifying-folktales">Rarifying Folktales</h2>
<p>With this tool in hand, we can compare the richnesses folktale collections with
different sample sizes, by standardizing the collections to the sample size of
the smallest collection. For example, let&rsquo;s compare the collections of Jaarsma
and Keuning, who sampled 15,326 and 837 folktales respectively. We thus
standardize the larger collection of Jaarsma to 837 stories and compute the
rarefaction curve:</p>
<figure><img src="/ox-hugo/2024-01-15_14-00-21_rarefaction_Keuning_Jaarsma.png"
    alt="Figure 4: Comparison of Rarefaction curves of the collectors Jaarsma and Keuning."><figcaption>
      <p><span class="figure-number">Figure 4: </span>Comparison of Rarefaction curves of the collectors Jaarsma and Keuning.</p>
    </figcaption>
</figure>

<p>This curve reveals the richness ratios between the two collections at various
sample sizes. Starting from a ratio of 1.57 at a sample size of \(n=100\) and
increasing to 2.34 at the complete collection of Keuning (\(n=837\)), it becomes
evident that the apparent difference in richness is more a function of the
chosen sample size rather than an intrinsic characteristic of the collections
themselves. With higher degrees of rarification the <em>underestimation</em> of the
degree of difference between the collections thus goes up.</p>
<h2 id="replication-or-doubling-property">Replication or Doubling Property</h2>
<p>This phenomenon arises because estimating richness from samples of a fixed size
fails to adhere to what is known as the &lsquo;doubling property&rsquo;
(<a href="#citeproc_bib_item_5">Hill 1973</a>) or &lsquo;replication principle&rsquo;
(<a href="#citeproc_bib_item_3">Chao and Jost 2012</a>). According to this principle, when two
subsamples of equal size, each containing entirely distinct species but sharing
the same abundance distribution, are combined, an desirable measure of diversity
should reflect a doubling effect. The doubling principle is also what we
intuitively expect from a diversity measure. If, for example, we study the
richness of the combined sample, we would expect it to be twice as diverse
(see <a href="#citeproc_bib_item_5">Hill 1973</a> for a family of diversity measures
that retain the doubling property even for higher order diversity values).</p>
<p>However, when estimating richness based on fixed sample sizes, as demonstrated
in our rarefaction curves, the doubling property is <em>not</em> observed. To
illustrate this, let&rsquo;s consider an example from
(<a href="#citeproc_bib_item_3">Chao and Jost 2012</a>), who examine two communities, \(A\) and
\(B\). Each community has the same abundance distribution but no shared species:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>A <span style="color:#666">=</span> np<span style="color:#666">.</span>arange(<span style="color:#40a070">50</span>)
</span></span><span style="display:flex;"><span>pA <span style="color:#666">=</span> np<span style="color:#666">.</span>array([<span style="color:#40a070">0.3</span>] <span style="color:#666">+</span> [<span style="color:#40a070">0.1</span>] <span style="color:#666">+</span> [<span style="color:#40a070">0.05</span>] <span style="color:#666">*</span> <span style="color:#40a070">3</span> <span style="color:#666">+</span> [<span style="color:#40a070">0.01</span>] <span style="color:#666">*</span> <span style="color:#40a070">45</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>B <span style="color:#666">=</span> np<span style="color:#666">.</span>arange(<span style="color:#40a070">50</span>, <span style="color:#40a070">100</span>)
</span></span><span style="display:flex;"><span>pB <span style="color:#666">=</span> pA<span style="color:#666">.</span>copy()
</span></span></code></pre></div><p>Suppose we sample 20 individuals (with replacement) from community \(A\). On
average, this sample is expected to contain about 12 species:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>n_iter <span style="color:#666">=</span> <span style="color:#40a070">1000</span>
</span></span><span style="display:flex;"><span>n_species <span style="color:#666">=</span> np<span style="color:#666">.</span>zeros(n_iter)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">for</span> i <span style="color:#007020;font-weight:bold">in</span> <span style="color:#007020">range</span>(n_iter):
</span></span><span style="display:flex;"><span>    sample <span style="color:#666">=</span> np<span style="color:#666">.</span>random<span style="color:#666">.</span>choice(A, size<span style="color:#666">=</span><span style="color:#40a070">20</span>, p<span style="color:#666">=</span>pA)
</span></span><span style="display:flex;"><span>    n_species[i] <span style="color:#666">=</span> <span style="color:#007020">len</span>(<span style="color:#007020">set</span>(sample))
</span></span><span style="display:flex;"><span><span style="color:#007020">print</span>(n_species<span style="color:#666">.</span>mean())
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>12.045
</span></span></code></pre></div><p>Now, consider a pooled sample from \(A+B\) and sample 20 individuals again. The
expected number of species is not 24 (double of 12), but approximately 14:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>n_iter <span style="color:#666">=</span> <span style="color:#40a070">1000</span>
</span></span><span style="display:flex;"><span>n_species <span style="color:#666">=</span> np<span style="color:#666">.</span>zeros(n_iter)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>AB <span style="color:#666">=</span> np<span style="color:#666">.</span>hstack((A, B))
</span></span><span style="display:flex;"><span>pAB <span style="color:#666">=</span> np<span style="color:#666">.</span>hstack((pA, pB))
</span></span><span style="display:flex;"><span>pAB <span style="color:#666">=</span> pAB <span style="color:#666">/</span> pAB<span style="color:#666">.</span>sum()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007020;font-weight:bold">for</span> i <span style="color:#007020;font-weight:bold">in</span> <span style="color:#007020">range</span>(n_iter):
</span></span><span style="display:flex;"><span>    sample <span style="color:#666">=</span> np<span style="color:#666">.</span>random<span style="color:#666">.</span>choice(AB, size<span style="color:#666">=</span><span style="color:#40a070">20</span>, p<span style="color:#666">=</span>pAB)
</span></span><span style="display:flex;"><span>    n_species[i] <span style="color:#666">=</span> <span style="color:#007020">len</span>(<span style="color:#007020">set</span>(sample))
</span></span><span style="display:flex;"><span><span style="color:#007020">print</span>(n_species<span style="color:#666">.</span>mean())
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>14.274
</span></span></code></pre></div><p>These results indicate a significant underestimation of diversity. In this case,
the richness difference ratio is approximately 1.18, far from the true value
of 2. The rarefaction curve below highlights this discrepancy in further detail.
It shows the instability of the richness ratio as a function of sample size and
the absence of the doubling property, even at higher sample sizes.</p>
<figure><img src="/ox-hugo/2024-01-16_10-01-16_rarefaction_A_B.png"
    alt="Figure 5: Rarefaction curve illustrating the absence of the doubling property when estimating richnesses based on samples of fixed size (based on Chao and Jost 2012)"><figcaption>
      <p><span class="figure-number">Figure 5: </span>Rarefaction curve illustrating the absence of the doubling property when estimating richnesses based on samples of fixed size (based on <a href="#citeproc_bib_item_3">Chao and Jost 2012</a>)</p>
    </figcaption>
</figure>

<h2 id="standardizing-by-sample-coverage">Standardizing by Sample Coverage</h2>
<p>As initially proposed by Alroy (<a href="#citeproc_bib_item_1">2010</a>)
and further developed by Chao and Jost (<a href="#citeproc_bib_item_3">2012</a>), the key to
addressing this issue lies in comparing samples based on equal completeness, or
more precisely, equal coverage, rather than equal equal sample size. The term
&lsquo;coverage&rsquo; traces its roots back to the cryptographic work of Alan Turing during
World War II. As Good highlighted in
(<a href="#citeproc_bib_item_4">1953</a>), coverage is defined as the
proportion of individuals in a community that are represented in a sample,
belonging to the identified species. In simpler terms, it indicates the
likelihood that a newly sampled individual will belong to a species already
present in the sample.</p>
<p>Conversely, the term &lsquo;coverage deficit&rsquo;, as termed by Chao and colleagues in
their (<a href="#citeproc_bib_item_3">2012</a>) paper, is calculated by
subtracting the sample’s coverage from one. This deficit represents the portion
of the community composed of species not yet included in the sample. Notably,
the coverage deficit is a critical component in calculating the Unseen Species
Estimator, known as Chao1 (<a href="#citeproc_bib_item_2">Chao 1984</a>). For a
more detailed explanation, refer to my notebook &lsquo;<a href="/posts/20220309103709-good_turing_as_an_unseen_species_model/">Demystifying Chao1 with
Good-Turing</a>&rsquo;. The formula to estimate sample coverage is straightforward:</p>
<p>\begin{equation}
\hat{C}_n = 1 - \frac{f_1}{n},
\end{equation}</p>
<p>where \(f_1\) is the count of species or categories that appear only once in the
sample. An enhanced version of this estimator was proposed by Chao and Shen in
2010:</p>
<p>\begin{equation}
\hat{C}_n = 1 - \frac{f_1}{n} \left [ \frac{(n - 1) f_1}{(n - 1) f_1 + 2 f_2} \right ]
\end{equation}</p>
<p>As we will see, the key insight here is that when samples are standardized by
coverage, the doubling property is approximately satisfied. And therefore, richness
estimates of any two communities, when adjusted for coverage, provide a more
accurate reflection of their actual diversity relationship, compared to
traditional richness estimates based on fixed sample sizes. In the following
plot, I compare the two communities \(A\) and \(A+B\) based on shared coverage
values. The richness ratio satisfies the doubling principle, even for relatively
small sample sizes and low coverage.</p>
<figure><img src="/ox-hugo/2024-01-16_12-40-41_rarefaction_A_B_coverage.png"
    alt="Figure 6: Illustration of Standardizing Rarefaction Curves by Coverage"><figcaption>
      <p><span class="figure-number">Figure 6: </span>Illustration of Standardizing Rarefaction Curves by Coverage</p>
    </figcaption>
</figure>

<h2 id="comparing-folktale-diversity-by-coverage">Comparing Folktale Diversity by Coverage</h2>
<p>This opens up quite exciting possibilities, as it would allow us to make
meaningful judgements about about which community of cultural collection is more
diverse than the other. This goes beyond simple rankings in terms of diversity.
We&rsquo;re now equipped to quantify the actual magnitude of these differences in
diversity, as detailed by (/t <a href="#citeproc_bib_item_3">Chao and Jost 2012</a>). In the
concluding part of this post, I will demonstrate the application of
coverage-based rarefaction curves to the folktale collection compiled by the
Meertens Institute.</p>
<p>We&rsquo;ll start by comparing the collections of two folklorists, Jaarsma and
Bijlsma, both of whom collected folktales in the Frysia province. The plot that
follows illustrates the size-based rarefaction extrapolation curves for their
respective collections.</p>
<figure><img src="/ox-hugo/2024-01-17_08-35-33_rarefaction_Bijlsma_Jaarsma_size.png"
    alt="Figure 7: Size-based rarefaction-extrapolation curve for Jaarsma and Bijlsma."><figcaption>
      <p><span class="figure-number">Figure 7: </span>Size-based rarefaction-extrapolation curve for Jaarsma and Bijlsma.</p>
    </figcaption>
</figure>

<p>In the displayed plots, the solid lines depict the rarefaction, and the dashed
lines represent the extrapolation process. Notably, in these visualizations, the
richness ratio remains approximately at 1.8. Now, let&rsquo;s contrast this with the
coverage-based rarefaction-extrapolation shown in the subsequent plot. While the
size-based approach estimates the richness difference to be less than 2, the
coverage-based analysis paints a different picture. It indicates a significantly
larger disparity, with the richness ratio estimated to be around 3.6</p>
<figure><img src="/ox-hugo/2024-01-17_08-38-59_rarefaction_Bijlsma_Jaarsma_coverage.png"
    alt="Figure 8: Coverage-based rarefaction-extrapolation curve for Jaarsma and Bijlsma."><figcaption>
      <p><span class="figure-number">Figure 8: </span>Coverage-based rarefaction-extrapolation curve for Jaarsma and Bijlsma.</p>
    </figcaption>
</figure>

<p>The disparity in richness between the collections of Jaarsma and Bijlsma is
notably significant. When examining other pairs of collectors, the differences
in richness are generally smaller. However, it&rsquo;s consistently observed that the
coverage-based richness estimates are higher compared to those derived from
size-based methods. For instance, consider the comparison between the
collections of Wever, who focused on gathering stories in the northeastern part
of the Netherlands, and Kooijman, whose collection mainly comes from the
South-Holland province.</p>
<figure><img src="/ox-hugo/2024-01-17_11-08-28_rarefaction_Kooijman_Wever_size.png"
    alt="Figure 9: Size-based rarefaction-extrapolation curve for Kooijman and Wever."><figcaption>
      <p><span class="figure-number">Figure 9: </span>Size-based rarefaction-extrapolation curve for Kooijman and Wever.</p>
    </figcaption>
</figure>

<p>The coverage-based rarefaction-extrapolation curves are as follows:</p>
<figure><img src="/ox-hugo/2024-01-17_11-08-53_rarefaction_Kooijman_Wever_coverage.png"
    alt="Figure 10: Coverage-based rarefaction-extrapolation curve for Kooijman and Wever."><figcaption>
      <p><span class="figure-number">Figure 10: </span>Coverage-based rarefaction-extrapolation curve for Kooijman and Wever.</p>
    </figcaption>
</figure>

<p>When comparing these size-based and coverage-based numbers,
Chao and Jost (<a href="#citeproc_bib_item_3">2012</a>) emphasize a key distinction in their
approach: while size-based standardization depends on the samplers&rsquo; discretion,
coverage-based standardization allows for comparisons of equivalent population
fractions from each community. This fraction represents a characteristic at the
community level, one that can be reliably estimated from the available data.</p>
<h2 id="outlook">Outlook</h2>
<p>This notebook has delved into the complexities of measuring cultural diversity,
with a special focus on a distinctive collection of Dutch folktales. In upcoming
posts, I plan to delve deeper into the various factors that influence coverage
and diversity within such collections. A key aspect of this exploration will be
examining the roles and sampling strategies of the collectors themselves.</p>
<h2 id="references">References</h2>
<style>.csl-entry{text-indent: -1.5em; margin-left: 1.5em;}</style><div class="csl-bib-body">
  <div class="csl-entry"><a id="citeproc_bib_item_1"></a>Alroy, John. 2010. “Geographical, Environmental and Intrinsic Biotic Controls on Phanerozoic Marine Diversification: Controls on Phanerozoic Marine Diversification.” <i>Palaeontology</i> 53 (6): 1211–35. <a href="https://doi.org/10.1111/j.1475-4983.2010.01011.x">https://doi.org/10.1111/j.1475-4983.2010.01011.x</a>.</div>
  <div class="csl-entry"><a id="citeproc_bib_item_2"></a>Chao, Anne. 1984. “Nonparametric Estimation of the Number of Classes in a Population.” <i>Scandinavian Journal of Statistics</i> 11 (4): 265–70. <a href="https://www.jstor.org/stable/4615964">https://www.jstor.org/stable/4615964</a>.</div>
  <div class="csl-entry"><a id="citeproc_bib_item_3"></a>Chao, Anne, and Lou Jost. 2012. “Coverage-Based Rarefaction and Extrapolation: Standardizing Samples by Completeness Rather than Size.” <i>Ecology</i> 93 (12): 2533–47. <a href="https://doi.org/10.1890/11-1952.1">https://doi.org/10.1890/11-1952.1</a>.</div>
  <div class="csl-entry"><a id="citeproc_bib_item_4"></a>Good, I. J. 1953. “The Population Frequencies of Species and the Estimation of Population Parameters.” <i>Biometrika</i> 40 (3-4): 237–64. <a href="https://doi.org/10.1093/biomet/40.3-4.237">https://doi.org/10.1093/biomet/40.3-4.237</a>.</div>
  <div class="csl-entry"><a id="citeproc_bib_item_5"></a>Hill, M. O. 1973. “Diversity and Evenness: A Unifying Notation and Its Consequences.” <i>Ecology</i> 54 (2): 427–32. <a href="https://doi.org/10.2307/1934352">https://doi.org/10.2307/1934352</a>.</div>
  <div class="csl-entry"><a id="citeproc_bib_item_6"></a>Uther, Hans-Jörg. 2004. <i>The Types of International Folktales: A Classification and Bibliography, Based on the System of Antti Aarne and Stith Thompson</i>. 284-286. Suomalainen Tiedeakatemia, Academia Scientiarum Fennica.</div>
</div>

    </div>
  </article>

  
  






  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Notebooks</a></li>
         
          <li><a href="/references">Publications</a></li>
        
      </ul>
    </div>

    
    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#comparing-cultural-diversity-estimates">Comparing Cultural Diversity Estimates</a></li>
    <li><a href="#rarifying-species">Rarifying Species</a></li>
    <li><a href="#rarifying-folktales">Rarifying Folktales</a></li>
    <li><a href="#replication-or-doubling-property">Replication or Doubling Property</a></li>
    <li><a href="#standardizing-by-sample-coverage">Standardizing by Sample Coverage</a></li>
    <li><a href="#comparing-folktale-diversity-by-coverage">Comparing Folktale Diversity by Coverage</a></li>
    <li><a href="#outlook">Outlook</a></li>
    <li><a href="#references">References</a></li>
  </ul>
</nav>
    </div>
    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f&text=Coverage-based%20Comparisons%20of%20Cultural%20Diversity" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f&title=Coverage-based%20Comparisons%20of%20Cultural%20Diversity" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f&is_video=false&description=Coverage-based%20Comparisons%20of%20Cultural%20Diversity" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Coverage-based%20Comparisons%20of%20Cultural%20Diversity&body=Check out this article: http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f&title=Coverage-based%20Comparisons%20of%20Cultural%20Diversity" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f&title=Coverage-based%20Comparisons%20of%20Cultural%20Diversity" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f&name=Coverage-based%20Comparisons%20of%20Cultural%20Diversity&description=%3cp%3eThis%20notebook%20is%20the%20first%20of%20a%20series%20of%20notebooks%20based%20on%20a%20talk%20I%20gave%20at%0athe%20CUDAN%202023%20conference%20in%20Tallinn%2c%20Estonia%20%28%3ca%20href%3d%22https%3a%2f%2fcudan.tlu.ee%2fconference%2f%22%3ehttps%3a%2f%2fcudan.tlu.ee%2fconference%2f%3c%2fa%3e%29%0atogether%20with%20%3ca%20href%3d%22https%3a%2f%2fwww.melvinwevers.nl%22%3eMelvin%20Wevers%3c%2fa%3e%20and%20%3ca%20href%3d%22http%3a%2f%2fmikekestemont.github.io%2f%22%3eMike%20Kestemont%3c%2fa%3e%2c%20titled%20%3cem%3eSteady%20Formulas%2c%0aShifting%20Spells%3a%20Estimating%20Folktale%20Diversity%3c%2fem%3e.%3c%2fp%3e%0a%3ch2%20id%3d%22comparing-cultural-diversity-estimates%22%3eComparing%20Cultural%20Diversity%20Estimates%3c%2fh2%3e%0a%3cp%3eQuantifying%20the%20diversity%20of%20cultural%20collections%20presents%20many%20unique%0achallenges.%20In%20earlier%20posts%20%28e.g.%2c%20%3ca%20href%3d%22%2fposts%2f20220309103709-good_turing_as_an_unseen_species_model%2f%22%3eDemystifying%20Chao1%20with%20Good-Turing%3c%2fa%3e%20and%0a%3ca%20href%3d%22%2fposts%2f20220405110456-population_size_regression_estimators%2f%22%3ePopulation%20Size%20Estimation%20as%20a%20Regression%20Problem%3c%2fa%3e%29%2c%20I%26rsquo%3bve%20discussed%20the%20issue%20of%0aundersampling%20in%20cultural%20collections%2c%20largely%20as%20a%20consequence%20of%20cultural%0aloss.%20In%20this%20post%2c%20I%20discuss%20some%20problems%20when%20%3cem%3ecomparing%3c%2fem%3e%20diversity%0ameasurements%3a%20When%20and%20how%20can%20we%20assert%20that%20one%20collection%20is%20more%20diverse%0athan%20another%3f%3c%2fp%3e" aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=http%3a%2f%2flocalhost%3a60738%2fposts%2f20231218135129-explorers_and_exploiters_mapping_search_strategies_of_folktale_collectors%2f&t=Coverage-based%20Comparisons%20of%20Cultural%20Diversity" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2025  Folgert Karsdorp; made with Hugo 
  </div>
  <div class="footer-right">
    
    
    
    
    
    
    
    
    
    
    
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>

<script src=/js/code-copy.js></script>



  


<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    },
    svg: {
      fontCache: 'global'
    }
  };
</script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>

</html>
